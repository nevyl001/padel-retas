{"ast":null,"code":"var _jsxFileName = \"/Users/nedev/padel-tournament-app/src/App.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback, useMemo } from \"react\";\nimport \"./App.css\";\nimport { TournamentManager } from \"./components/TournamentManager\";\nimport { PlayerManager } from \"./components/PlayerManager\";\nimport { PairManager } from \"./components/PairManager\";\nimport { MatchScoreEditor } from \"./components/MatchScoreEditor\";\nimport StandingsTable from \"./components/StandingsTable\";\nimport { SuccessModal } from \"./components/SuccessModal\";\nimport { createPair, getPairs, updatePair, deletePair as deletePairFromDB, createMatch, getMatches, updateMatch, deleteMatchesByTournament, createGame, getGames, updateGame, deleteGame, updateTournament } from \"./lib/database\";\nimport { testConnection } from \"./lib/supabaseClient\";\nimport { FlexibleMatchFinisher } from \"./components/FlexibleMatchFinisher\";\nimport { MatchResultCalculator } from \"./components/MatchResultCalculator\";\nimport { TournamentWinnerCalculator } from \"./components/TournamentWinnerCalculator\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  var _winner$player, _winner$player2, _selectedMatchResults, _selectedMatchResults2, _selectedMatchResults3, _selectedMatchResults4, _selectedMatchResults5, _selectedMatchResults6, _selectedMatchResults7, _selectedMatchResults8, _calculatedMatchResul, _selectedMatchResults9, _calculatedMatchResul2, _selectedMatchResults0, _calculatedMatchResul3, _selectedMatchResults1, _calculatedMatchResul4, _selectedMatchResults10, _calculatedMatchResul5, _selectedMatchResults11, _calculatedMatchResul6, _selectedMatchResults12;\n  const [selectedTournament, setSelectedTournament] = useState(null);\n  const [pairs, setPairs] = useState([]);\n  const [matches, setMatches] = useState([]);\n  const [games, setGames] = useState([]);\n  const [selectedMatchId, setSelectedMatchId] = useState(null);\n  const [error, setError] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [showPlayerManager, setShowPlayerManager] = useState(false);\n  const [showPairManager, setShowPairManager] = useState(false);\n  const [selectedPlayers, setSelectedPlayers] = useState([]);\n  const [showWinnerScreen, setShowWinnerScreen] = useState(false);\n  const [showMatchResults, setShowMatchResults] = useState(false);\n  const [selectedMatchResults, setSelectedMatchResults] = useState(null);\n  const [calculatedMatchResults, setCalculatedMatchResults] = useState(null);\n  const [showScoreCorrector, setShowScoreCorrector] = useState(false);\n  const [selectedCorrectorMatch, setSelectedCorrectorMatch] = useState(null);\n  const [forceRefresh, setForceRefresh] = useState(0);\n  const [showDebugInfo, setShowDebugInfo] = useState(false);\n  const [editingGames, setEditingGames] = useState({});\n  const [editingTieBreaks, setEditingTieBreaks] = useState({});\n  const [showSuccessModal, setShowSuccessModal] = useState(false);\n  const [successModalData, setSuccessModalData] = useState({\n    title: \"\",\n    message: \"\",\n    icon: \"✅\"\n  });\n\n  // Cargar datos cuando se selecciona un torneo\n  useEffect(() => {\n    if (selectedTournament) {\n      loadTournamentData();\n    }\n  }, [selectedTournament === null || selectedTournament === void 0 ? void 0 : selectedTournament.id]);\n  const loadTournamentData = useCallback(async () => {\n    if (!selectedTournament) return;\n    try {\n      setLoading(true);\n      setError(\"\");\n      console.log(\"Loading tournament data for:\", selectedTournament.name);\n      const [pairsData, matchesData] = await Promise.all([getPairs(selectedTournament.id), getMatches(selectedTournament.id)]);\n      console.log(\"Pairs loaded:\", pairsData.length, \"pairs\");\n      setPairs(pairsData);\n      console.log(\"Matches loaded from database:\", matchesData.length, \"matches\");\n      setMatches(matchesData);\n    } catch (err) {\n      console.error(\"Error loading tournament data:\", err);\n      setError(\"Error al cargar los datos del torneo: \" + err.message);\n    } finally {\n      setLoading(false);\n    }\n  }, [selectedTournament]);\n  const deletePair = async pairId => {\n    try {\n      setError(\"\");\n      console.log(\"Eliminando pareja:\", pairId);\n      await deletePairFromDB(pairId);\n      setPairs(pairs.filter(p => p.id !== pairId));\n      console.log(\"Pareja eliminada exitosamente\");\n    } catch (err) {\n      console.error(\"Error eliminando pareja:\", err);\n      setError(\"Error al eliminar la pareja: \" + err.message);\n    }\n  };\n  const updatePairPlayers = async (pairId, player1, player2) => {\n    try {\n      setError(\"\");\n      console.log(\"Actualizando pareja:\", pairId);\n      console.log(\"Nuevos jugadores:\", player1.name, \"+\", player2.name);\n\n      // Actualizar la pareja en la base de datos\n      await updatePair(pairId, {\n        player1_id: player1.id,\n        player2_id: player2.id\n      });\n\n      // Actualizar el estado local\n      setPairs(pairs.map(pair => {\n        if (pair.id === pairId) {\n          return {\n            ...pair,\n            player1_id: player1.id,\n            player2_id: player2.id,\n            player1: player1,\n            player2: player2\n          };\n        }\n        return pair;\n      }));\n      console.log(\"Pareja actualizada exitosamente\");\n    } catch (err) {\n      console.error(\"Error actualizando pareja:\", err);\n      setError(\"Error al actualizar la pareja: \" + err.message);\n    }\n  };\n  const addPair = async (player1, player2) => {\n    if (!selectedTournament) {\n      setError(\"No hay torneo seleccionado\");\n      return;\n    }\n    try {\n      setError(\"\");\n\n      // Verificar duplicados en estado local\n      const existingPairLocal = pairs.find(pair => {\n        var _pair$player, _pair$player2, _pair$player3, _pair$player4;\n        const sameIds = pair.player1_id === player1.id && pair.player2_id === player2.id || pair.player1_id === player2.id && pair.player2_id === player1.id;\n        const sameNames = ((_pair$player = pair.player1) === null || _pair$player === void 0 ? void 0 : _pair$player.name.toLowerCase()) === player1.name.toLowerCase() && ((_pair$player2 = pair.player2) === null || _pair$player2 === void 0 ? void 0 : _pair$player2.name.toLowerCase()) === player2.name.toLowerCase() || ((_pair$player3 = pair.player1) === null || _pair$player3 === void 0 ? void 0 : _pair$player3.name.toLowerCase()) === player2.name.toLowerCase() && ((_pair$player4 = pair.player2) === null || _pair$player4 === void 0 ? void 0 : _pair$player4.name.toLowerCase()) === player1.name.toLowerCase();\n        return sameIds || sameNames;\n      });\n      if (existingPairLocal) {\n        setError(`La pareja ${player1.name} y ${player2.name} ya está registrada`);\n        return;\n      }\n      const newPair = await createPair(selectedTournament.id, player1.id, player2.id);\n      setPairs([...pairs, newPair]);\n      setSelectedPlayers([]);\n      console.log(\"Pair added successfully\");\n    } catch (err) {\n      console.error(\"Error creating pair:\", err);\n      setError(\"Error al crear la pareja: \" + err.message);\n    }\n  };\n  const startTournament = async () => {\n    if (!selectedTournament || pairs.length < 2) {\n      setError(\"Se necesitan al menos 2 parejas para iniciar el torneo\");\n      return;\n    }\n    try {\n      setLoading(true);\n      setError(\"\");\n      console.log(\"🚀 Iniciando torneo:\", selectedTournament.name);\n\n      // Limpiar partidos existentes\n      if (matches.length > 0) {\n        await deleteMatchesByTournament(selectedTournament.id);\n        setMatches([]);\n      }\n      const allPairs = [...pairs];\n      const allCombinations = [];\n      for (let i = 0; i < allPairs.length; i++) {\n        for (let j = i + 1; j < allPairs.length; j++) {\n          allCombinations.push({\n            pair1: allPairs[i],\n            pair2: allPairs[j]\n          });\n        }\n      }\n      const finalMatches = [];\n      const remainingCombinations = [...allCombinations];\n      let round = 1;\n      while (remainingCombinations.length > 0) {\n        const roundMatches = [];\n        const usedPairs = new Set();\n        const courtOrder = [];\n        for (let i = 0; i < selectedTournament.courts; i++) {\n          const rotatedCourt = (round - 1 + i) % selectedTournament.courts + 1;\n          courtOrder.push(rotatedCourt);\n        }\n        for (let courtIndex = 0; courtIndex < courtOrder.length; courtIndex++) {\n          const court = courtOrder[courtIndex];\n          let bestIndex = -1;\n          let bestScore = -1;\n          for (let i = 0; i < remainingCombinations.length; i++) {\n            const combo = remainingCombinations[i];\n            if (!usedPairs.has(combo.pair1.id) && !usedPairs.has(combo.pair2.id)) {\n              let score = 0;\n              for (let j = 0; j < remainingCombinations.length; j++) {\n                if (i !== j) {\n                  const futureCombo = remainingCombinations[j];\n                  if (!usedPairs.has(futureCombo.pair1.id) && !usedPairs.has(futureCombo.pair2.id) && futureCombo.pair1.id !== combo.pair1.id && futureCombo.pair1.id !== combo.pair2.id && futureCombo.pair2.id !== combo.pair1.id && futureCombo.pair2.id !== combo.pair2.id) {\n                    score++;\n                  }\n                }\n              }\n              if (score > bestScore) {\n                bestScore = score;\n                bestIndex = i;\n              }\n            }\n          }\n          if (bestIndex !== -1) {\n            const combo = remainingCombinations[bestIndex];\n            const match = {\n              pair1: combo.pair1,\n              pair2: combo.pair2,\n              round,\n              court\n            };\n            roundMatches.push(match);\n            usedPairs.add(combo.pair1.id);\n            usedPairs.add(combo.pair2.id);\n            remainingCombinations.splice(bestIndex, 1);\n          } else {\n            break;\n          }\n        }\n        if (roundMatches.length > 0) {\n          finalMatches.push(...roundMatches);\n        }\n        round++;\n      }\n      const createdMatches = [];\n      for (const match of finalMatches) {\n        try {\n          const createdMatch = await createMatch(selectedTournament.id, match.pair1.id, match.pair2.id, match.court, match.round);\n          createdMatches.push(createdMatch);\n        } catch (error) {\n          console.error(\"Error creating match:\", error);\n        }\n      }\n      await updateTournament(selectedTournament.id, {\n        is_started: true\n      });\n      setSelectedTournament(prev => prev ? {\n        ...prev,\n        is_started: true\n      } : null);\n      await loadTournamentData();\n      setSuccessModalData({\n        title: \"¡Torneo Iniciado!\",\n        message: `Se han creado ${createdMatches.length} partidos exitosamente usando ${selectedTournament.courts} canchas. El torneo está listo para comenzar.`,\n        icon: \"🏆\"\n      });\n      setShowSuccessModal(true);\n    } catch (error) {\n      console.error(\"Error starting tournament:\", error);\n      setError(\"Error al iniciar el torneo: \" + error.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const addGame = async matchId => {\n    try {\n      setError(\"\");\n      const gameNumber = games.filter(g => g.match_id === matchId).length + 1;\n      const newGame = await createGame(matchId, gameNumber);\n      setGames([...games, newGame]);\n    } catch (err) {\n      console.error(\"❌ Error al agregar el juego:\", err);\n      setError(\"Error al agregar el juego\");\n    }\n  };\n  const updateGameScore = useCallback(async (gameId, pair1Games, pair2Games) => {\n    try {\n      setError(\"\");\n      setGames(prevGames => prevGames.map(g => g.id === gameId ? {\n        ...g,\n        pair1_games: pair1Games,\n        pair2_games: pair2Games\n      } : g));\n      await updateGame(gameId, {\n        pair1_games: pair1Games,\n        pair2_games: pair2Games\n      });\n    } catch (err) {\n      console.error(\"❌ Error al actualizar el marcador:\", err);\n      setError(\"Error al actualizar el marcador: \" + err.message);\n    }\n  }, [games, selectedTournament]);\n  const handleGameScoreChange = useCallback((gameId, pair1Games, pair2Games) => {\n    setEditingGames(prev => ({\n      ...prev,\n      [gameId]: {\n        pair1: pair1Games,\n        pair2: pair2Games\n      }\n    }));\n  }, []);\n  const handleTieBreakScoreChange = useCallback((gameId, pair1Points, pair2Points) => {\n    setEditingTieBreaks(prev => ({\n      ...prev,\n      [gameId]: {\n        pair1: pair1Points,\n        pair2: pair2Points\n      }\n    }));\n  }, []);\n  const handleGameScoreBlur = useCallback(async gameId => {\n    const editingGame = editingGames[gameId];\n    if (editingGame) {\n      await updateGameScore(gameId, editingGame.pair1, editingGame.pair2);\n      setEditingGames(prev => {\n        const newState = {\n          ...prev\n        };\n        delete newState[gameId];\n        return newState;\n      });\n    }\n  }, [editingGames]);\n  const handleTieBreakScoreBlur = useCallback(async gameId => {\n    const editingTieBreak = editingTieBreaks[gameId];\n    if (editingTieBreak) {\n      await updateTieBreakScore(gameId, editingTieBreak.pair1, editingTieBreak.pair2);\n      setEditingTieBreaks(prev => {\n        const newState = {\n          ...prev\n        };\n        delete newState[gameId];\n        return newState;\n      });\n    }\n  }, [editingTieBreaks]);\n  const updateTieBreakScore = async (gameId, pair1Points, pair2Points) => {\n    try {\n      setError(\"\");\n      setGames(prevGames => prevGames.map(g => g.id === gameId ? {\n        ...g,\n        tie_break_pair1_points: pair1Points,\n        tie_break_pair2_points: pair2Points\n      } : g));\n      await updateGame(gameId, {\n        tie_break_pair1_points: pair1Points,\n        tie_break_pair2_points: pair2Points\n      });\n    } catch (err) {\n      console.error(\"❌ Error al actualizar el tie break:\", err);\n      setError(\"Error al actualizar el tie break: \" + err.message);\n    }\n  };\n  const toggleTieBreak = async gameId => {\n    try {\n      setError(\"\");\n      const game = games.find(g => g.id === gameId);\n      if (!game) return;\n      const newIsTieBreak = !game.is_tie_break;\n      setGames(prevGames => prevGames.map(g => g.id === gameId ? {\n        ...g,\n        is_tie_break: newIsTieBreak,\n        tie_break_pair1_points: 0,\n        tie_break_pair2_points: 0\n      } : g));\n      await updateGame(gameId, {\n        is_tie_break: newIsTieBreak,\n        tie_break_pair1_points: 0,\n        tie_break_pair2_points: 0\n      });\n    } catch (err) {\n      setError(\"Error al cambiar el tipo de juego\");\n      console.error(err);\n    }\n  };\n  const removeGame = async gameId => {\n    try {\n      setError(\"\");\n      await deleteGame(gameId);\n      setGames(games.filter(g => g.id !== gameId));\n    } catch (err) {\n      console.error(\"❌ Error al eliminar el juego:\", err);\n      setError(\"Error al eliminar el juego: \" + err.message);\n    }\n  };\n  const correctGameScore = useCallback(async (gameId, pair1Games, pair2Games, pair1TieBreakPoints = 0, pair2TieBreakPoints = 0, isTieBreak = false) => {\n    try {\n      setError(\"\");\n      setGames(prevGames => prevGames.map(g => g.id === gameId ? {\n        ...g,\n        pair1_games: pair1Games,\n        pair2_games: pair2Games,\n        tie_break_pair1_points: pair1TieBreakPoints,\n        tie_break_pair2_points: pair2TieBreakPoints,\n        is_tie_break: isTieBreak,\n        updated_at: new Date().toISOString()\n      } : g));\n      await updateGame(gameId, {\n        pair1_games: pair1Games,\n        pair2_games: pair2Games,\n        tie_break_pair1_points: pair1TieBreakPoints,\n        tie_break_pair2_points: pair2TieBreakPoints,\n        is_tie_break: isTieBreak\n      });\n    } catch (err) {\n      console.error(\"❌ Error al corregir el marcador:\", err);\n      setError(\"Error al corregir el marcador: \" + err.message);\n    }\n  }, []);\n  const finishMatch = async matchId => {\n    try {\n      setError(\"\");\n      const match = matches.find(m => m.id === matchId);\n      if (!match) {\n        console.error(\"Match not found:\", matchId);\n        return;\n      }\n      const matchGames = games.filter(g => g.match_id === matchId);\n      if (!FlexibleMatchFinisher.canFinishMatch(matchGames)) {\n        setError(\"No se puede finalizar el partido. Verifica que todos los juegos tengan marcadores válidos.\");\n        return;\n      }\n      const result = await FlexibleMatchFinisher.finishMatch(match, matchGames, pairs, async () => {\n        if (selectedTournament) {\n          const pairsData = await getPairs(selectedTournament.id);\n          setPairs(pairsData);\n          setForceRefresh(prev => prev + 1);\n          const matchesData = await getMatches(selectedTournament.id);\n          setMatches(matchesData);\n        }\n      });\n      if (result.success) {\n        setMatches(matches.map(m => m.id === matchId ? {\n          ...m,\n          winner_id: result.winnerId,\n          is_finished: true\n        } : m));\n        if (selectedTournament) {\n          const updatedPairsData = await getPairs(selectedTournament.id);\n          setPairs(updatedPairsData);\n          setForceRefresh(prev => prev + 1);\n        }\n        alert(result.message);\n      } else {\n        setError(result.message);\n      }\n    } catch (err) {\n      setError(\"Error al finalizar el partido\");\n      console.error(err);\n    }\n  };\n  const handleMatchSelect = matchId => {\n    setSelectedMatchId(matchId);\n    loadMatchGames(matchId);\n  };\n  const loadMatchGames = async matchId => {\n    try {\n      const gamesData = await getGames(matchId);\n      setGames(gamesData);\n    } catch (err) {\n      console.error(\"❌ Error al cargar juegos:\", err);\n    }\n  };\n  const selectedMatch = matches.find(match => match.id === selectedMatchId);\n  const matchesByRound = matches.reduce((acc, match) => {\n    if (!acc[match.round]) {\n      acc[match.round] = [];\n    }\n    acc[match.round].push(match);\n    return acc;\n  }, {});\n  const sortedPairs = useMemo(() => {\n    return [...pairs].sort((a, b) => {\n      // Criterio 1: Puntos totales (descendente) - CRITERIO PRINCIPAL\n      if (a.points !== b.points) {\n        return b.points - a.points;\n      }\n      // Criterio 2: Sets ganados (descendente) - CRITERIO DE DESEMPATE\n      if (a.sets_won !== b.sets_won) {\n        return b.sets_won - a.sets_won;\n      }\n      // Criterio 3: Juegos ganados (descendente)\n      if (a.games_won !== b.games_won) {\n        return b.games_won - a.games_won;\n      }\n      // Criterio 4: Menos partidos jugados (mejor eficiencia)\n      return a.matches_played - b.matches_played;\n    });\n  }, [pairs, forceRefresh]);\n  const isTournamentFinished = useMemo(() => {\n    return matches.length > 0 && matches.every(match => match.is_finished);\n  }, [matches]);\n  const [tournamentWinner, setTournamentWinner] = useState(null);\n  const winner = useMemo(() => {\n    return tournamentWinner ? tournamentWinner.pair : sortedPairs.length > 0 ? sortedPairs[0] : null;\n  }, [tournamentWinner, sortedPairs]);\n  const showWinnerScreenHandler = async () => {\n    try {\n      console.log(\"🏆 Calculando ganador del torneo...\");\n      const winner = await TournamentWinnerCalculator.calculateTournamentWinner(pairs, matches);\n      setTournamentWinner(winner);\n      setShowWinnerScreen(true);\n    } catch (error) {\n      console.error(\"❌ Error al calcular ganador:\", error);\n      setShowWinnerScreen(true);\n    }\n  };\n  const hideWinnerScreenHandler = () => {\n    setShowWinnerScreen(false);\n  };\n  const showMatchResultsHandler = async match => {\n    try {\n      // Obtener los juegos del partido\n      const matchGames = await getGames(match.id);\n\n      // Calcular estadísticas en tiempo real\n      const stats = MatchResultCalculator.calculateMatchStatistics(match, matchGames);\n\n      // Crear un objeto con los resultados calculados\n      const calculatedMatch = {\n        ...match,\n        pair1: {\n          ...match.pair1,\n          games_won: stats.pair1GamesWon,\n          sets_won: stats.pair1SetsWon,\n          points: stats.pair1TotalPoints\n        },\n        pair2: {\n          ...match.pair2,\n          games_won: stats.pair2GamesWon,\n          sets_won: stats.pair2SetsWon,\n          points: stats.pair2TotalPoints\n        },\n        winner_id: stats.isTie ? undefined : stats.pair1TotalPoints > stats.pair2TotalPoints ? match.pair1_id : match.pair2_id\n      };\n      setSelectedMatchResults(match);\n      setCalculatedMatchResults(calculatedMatch);\n      setShowMatchResults(true);\n    } catch (error) {\n      console.error(\"Error al calcular resultados:\", error);\n      // Fallback al comportamiento original\n      setSelectedMatchResults(match);\n      setShowMatchResults(true);\n    }\n  };\n  const hideMatchResultsHandler = () => {\n    setShowMatchResults(false);\n    setSelectedMatchResults(null);\n    setCalculatedMatchResults(null);\n  };\n  const handleViewTournamentResults = async tournament => {\n    try {\n      setSelectedTournament(tournament);\n      await loadTournamentData();\n      alert(`✅ Torneo \"${tournament.name}\" seleccionado\\n\\nAhora puedes ver todos los partidos y resultados en el panel derecho.`);\n    } catch (err) {\n      console.error(\"❌ Error al cargar resultados del torneo:\", err);\n      alert(\"Error al cargar los resultados del torneo. Inténtalo de nuevo.\");\n    }\n  };\n  const recalculateMatchWinner = async matchId => {\n    try {\n      const match = matches.find(m => m.id === matchId);\n      if (!match) {\n        console.error(\"Match not found:\", matchId);\n        return;\n      }\n      const matchGames = await getGames(matchId);\n      if (matchGames.length === 0) {\n        console.log(\"No hay juegos para recalcular\");\n        return;\n      }\n      let pair1Games = 0;\n      let pair2Games = 0;\n      matchGames.forEach(game => {\n        if (game.is_tie_break) {\n          if (game.tie_break_pair1_points >= 10 && game.tie_break_pair1_points - game.tie_break_pair2_points >= 2) {\n            pair1Games++;\n          } else if (game.tie_break_pair2_points >= 10 && game.tie_break_pair2_points - game.tie_break_pair1_points >= 2) {\n            pair2Games++;\n          }\n        } else {\n          if (game.pair1_games > game.pair2_games) {\n            pair1Games++;\n          } else if (game.pair2_games > game.pair1_games) {\n            pair2Games++;\n          }\n        }\n      });\n      const isTie = pair1Games === pair2Games;\n      const winnerId = isTie ? undefined : pair1Games > pair2Games ? match.pair1_id : match.pair2_id;\n      await updateMatch(matchId, {\n        winner_id: winnerId,\n        is_finished: true\n      });\n      console.log(\"✅ Ganador recalculado y actualizado en la base de datos\");\n    } catch (error) {\n      console.error(\"Error recalculating match winner:\", error);\n    }\n  };\n  const handleBackToHome = () => {\n    setSelectedTournament(null);\n    setPairs([]);\n    setMatches([]);\n    setGames([]);\n    setSelectedMatchId(null);\n    setError(\"\");\n    setShowWinnerScreen(false);\n    setShowMatchResults(false);\n    setSelectedMatchResults(null);\n    setShowScoreCorrector(false);\n    setSelectedCorrectorMatch(null);\n    setForceRefresh(0);\n    setShowDebugInfo(false);\n    setEditingGames({});\n    setEditingTieBreaks({});\n    setShowSuccessModal(false);\n    setSuccessModalData({\n      title: \"\",\n      message: \"\",\n      icon: \"✅\"\n    });\n  };\n  const openScoreCorrector = async match => {\n    try {\n      // Recargar los juegos del partido antes de abrir el editor\n      const matchGames = await getGames(match.id);\n      setGames(prevGames => {\n        const otherGames = prevGames.filter(g => g.match_id !== match.id);\n        return [...otherGames, ...matchGames];\n      });\n    } catch (error) {\n      console.error(\"Error al cargar juegos:\", error);\n    }\n    setSelectedCorrectorMatch(match);\n    setShowScoreCorrector(true);\n  };\n  const closeScoreCorrector = () => {\n    setShowScoreCorrector(false);\n    setSelectedCorrectorMatch(null);\n  };\n  const handleScoreCorrectorUpdate = async () => {\n    if (selectedTournament) {\n      console.log(\"🔄 Actualizando tabla de clasificación después de finalizar partido...\");\n\n      // Solo incrementar forceRefresh para forzar actualización de la tabla\n      // NO recargar todos los datos para evitar recálculos automáticos\n      setForceRefresh(prev => {\n        console.log(`🔄 Incrementando forceRefresh de ${prev} a ${prev + 1}`);\n        return prev + 1;\n      });\n      console.log(\"✅ Tabla de clasificación actualizada automáticamente\");\n    }\n    closeScoreCorrector();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"\\uD83C\\uDFC6 Gesti\\xF3n de Torneos Express y Retas\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 892,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"\\u274C Error\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 896,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 897,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"error-help\",\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            children: \"\\uD83D\\uDCA1 Ayuda:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 899,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"ol\", {\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"Verifica tu conexi\\xF3n a internet\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 901,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"Intenta recargar la p\\xE1gina\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 902,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"Si el problema persiste, contacta al administrador\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 903,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 900,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 898,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 895,\n        columnNumber: 11\n      }, this), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u23F3 Cargando...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 911,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 910,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"main-layout\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"left-panel\",\n          children: /*#__PURE__*/_jsxDEV(TournamentManager, {\n            selectedTournament: selectedTournament || undefined,\n            onTournamentSelect: setSelectedTournament,\n            onViewResults: handleViewTournamentResults\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 917,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 916,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"right-panel\",\n          children: selectedTournament ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"tournament-details\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"tournament-header\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"tournament-header-content\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"tournament-title-section\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"tournament-icon\",\n                      children: \"\\uD83C\\uDFC6\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 931,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"tournament-info\",\n                      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                        children: selectedTournament.name\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 933,\n                        columnNumber: 27\n                      }, this), selectedTournament.description && /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"tournament-description\",\n                        children: selectedTournament.description\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 935,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 932,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 930,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"tournament-stats-section\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"stats-row\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"stat-badge\",\n                        children: [selectedTournament.courts, \" canchas\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 943,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"stat-badge\",\n                        children: [pairs.length, \" parejas\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 946,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 942,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"stats-row\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"stat-badge\",\n                        children: [matches.length, \" partidos\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 951,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: `status-badge ${selectedTournament.is_started ? \"started\" : \"pending\"}`,\n                        children: selectedTournament.is_started ? \"En Progreso\" : \"Pendiente\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 954,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 950,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 941,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 929,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 928,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"player-management-section\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"player-management-header\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                    children: \"\\uD83D\\uDC65 Gesti\\xF3n de Jugadores\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 973,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"toggle-player-manager-btn\",\n                    onClick: () => setShowPlayerManager(!showPlayerManager),\n                    children: showPlayerManager ? \"👥 Ocultar Gestión de Jugadores\" : \"👥 Mostrar Gestión de Jugadores\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 974,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 972,\n                  columnNumber: 21\n                }, this), showPlayerManager && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"player-manager-container\",\n                  children: /*#__PURE__*/_jsxDEV(PlayerManager, {\n                    playersInPairs: pairs.flatMap(pair => [pair.player1_id, pair.player2_id]),\n                    onPlayerSelect: players => {\n                      console.log(\"=== SELECCIÓN DE JUGADORES ===\");\n                      console.log(\"Players selected:\", players.length);\n                      players.forEach((player, index) => {\n                        console.log(`Player ${index + 1}:`, player.name, \"(ID:\", player.id + \")\");\n                      });\n\n                      // Validación: Verificar si algún jugador ya está en una pareja\n                      const playersInPairs = players.filter(player => {\n                        const isInPair = pairs.some(pair => pair.player1_id === player.id || pair.player2_id === player.id);\n                        if (isInPair) {\n                          var _existingPair$player, _existingPair$player2, _existingPair$player3;\n                          const existingPair = pairs.find(pair => pair.player1_id === player.id || pair.player2_id === player.id);\n                          console.log(`🚨 JUGADOR YA EN PAREJA: ${player.name} está en pareja con ${(existingPair === null || existingPair === void 0 ? void 0 : (_existingPair$player = existingPair.player1) === null || _existingPair$player === void 0 ? void 0 : _existingPair$player.id) === player.id ? existingPair === null || existingPair === void 0 ? void 0 : (_existingPair$player2 = existingPair.player2) === null || _existingPair$player2 === void 0 ? void 0 : _existingPair$player2.name : existingPair === null || existingPair === void 0 ? void 0 : (_existingPair$player3 = existingPair.player1) === null || _existingPair$player3 === void 0 ? void 0 : _existingPair$player3.name}`);\n                        }\n                        return isInPair;\n                      });\n                      if (playersInPairs.length > 0) {\n                        const playerNames = playersInPairs.map(p => p.name).join(\", \");\n                        console.log(\"🚨 ERROR: Jugadores ya están en parejas:\", playerNames);\n                        setError(`Los jugadores ${playerNames} ya están en parejas existentes. Debes eliminar sus parejas actuales antes de poder seleccionarlos nuevamente.`);\n                        return;\n                      }\n\n                      // Validación: No permitir jugadores con nombres iguales\n                      if (players.length === 2) {\n                        const player1 = players[0];\n                        const player2 = players[1];\n                        if (player1.name.toLowerCase() === player2.name.toLowerCase()) {\n                          console.log(\"🚨 ERROR: Jugadores con nombres iguales detectados\");\n                          console.log(\"Player 1:\", player1.name, \"(ID:\", player1.id + \")\");\n                          console.log(\"Player 2:\", player2.name, \"(ID:\", player2.id + \")\");\n                          setError(\"No puedes seleccionar dos jugadores con el mismo nombre\");\n                          return;\n                        }\n\n                        // Validación: Verificar si ya existe una pareja con estos jugadores\n                        const existingPair = pairs.find(pair => {\n                          var _pair$player5, _pair$player6, _pair$player7, _pair$player8;\n                          const sameIds = pair.player1_id === player1.id && pair.player2_id === player2.id || pair.player1_id === player2.id && pair.player2_id === player1.id;\n                          const sameNames = ((_pair$player5 = pair.player1) === null || _pair$player5 === void 0 ? void 0 : _pair$player5.name.toLowerCase()) === player1.name.toLowerCase() && ((_pair$player6 = pair.player2) === null || _pair$player6 === void 0 ? void 0 : _pair$player6.name.toLowerCase()) === player2.name.toLowerCase() || ((_pair$player7 = pair.player1) === null || _pair$player7 === void 0 ? void 0 : _pair$player7.name.toLowerCase()) === player2.name.toLowerCase() && ((_pair$player8 = pair.player2) === null || _pair$player8 === void 0 ? void 0 : _pair$player8.name.toLowerCase()) === player1.name.toLowerCase();\n                          if (sameIds || sameNames) {\n                            console.log(\"🚨 PAREJA DUPLICADA DETECTADA:\", player1.name, \"+\", player2.name);\n                            console.log(\"Existing pair:\", existingPair);\n                          }\n                          return sameIds || sameNames;\n                        });\n                        if (existingPair) {\n                          console.log(\"🚨 ERROR: Pareja ya existe en la base de datos\");\n                          setError(`La pareja ${player1.name} + ${player2.name} ya existe en el torneo`);\n                          return;\n                        }\n\n                        // Si llegamos aquí, la pareja es válida\n                        console.log(\"✅ PAREJA VÁLIDA:\", player1.name, \"+\", player2.name);\n                        addPair(player1, player2);\n                        setSelectedPlayers([]); // Limpiar selección después de crear la pareja\n                      } else {\n                        setSelectedPlayers(players);\n                      }\n                    },\n                    selectedPlayers: selectedPlayers,\n                    allowMultipleSelection: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 986,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 985,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 971,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"pair-management-section\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"pair-management-header\",\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"toggle-pair-manager-btn\",\n                    onClick: () => setShowPairManager(!showPairManager),\n                    children: showPairManager ? \"✏️ Ocultar Gestión de Parejas\" : \"✏️ Mostrar Gestión de Parejas\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1139,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1138,\n                  columnNumber: 21\n                }, this), showPairManager && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"pair-manager-container\",\n                  children: /*#__PURE__*/_jsxDEV(PairManager, {\n                    pairs: pairs,\n                    onPairUpdate: updatePairPlayers,\n                    onPairDelete: deletePair\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1151,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1150,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1137,\n                columnNumber: 19\n              }, this), !selectedTournament.is_started ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"start-tournament-section\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  children: \"\\uD83D\\uDE80 Iniciar Torneo\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1162,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"tournament-info\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    children: [\"Tienes \", pairs.length, \" parejas registradas\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1164,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: [\"Se crear\\xE1n \", pairs.length * (pairs.length - 1) / 2, \" \", \"partidos (round-robin completo - todas las parejas se enfrentan)\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1165,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: [\"Estado del torneo:\", \" \", selectedTournament.is_started ? \"Iniciado\" : \"Pendiente\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1170,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1163,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"start-button\",\n                  onClick: startTournament,\n                  disabled: loading || pairs.length < 2,\n                  children: loading ? \"⏳ Iniciando...\" : selectedTournament.is_started ? \"🏆 Torneo Ya Iniciado\" : pairs.length < 2 ? \"❌ Necesitas al menos 2 parejas\" : \"🚀 ¡Iniciar Torneo!\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1177,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1161,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"tournament-status-section\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  children: \"\\uD83C\\uDFC6 Torneo en Progreso\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1193,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"tournament-info\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    children: \"El torneo ya est\\xE1 iniciado y en progreso\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1195,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: [\"Tienes \", pairs.length, \" parejas registradas\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1196,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: \"Estado del torneo: Iniciado\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1197,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1194,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"reset-button\",\n                  onClick: async () => {\n                    if (window.confirm(\"¿Estás seguro de que quieres resetear el torneo? Esto eliminará todos los partidos existentes.\")) {\n                      try {\n                        setLoading(true);\n                        await deleteMatchesByTournament(selectedTournament.id);\n                        await updateTournament(selectedTournament.id, {\n                          is_started: false\n                        });\n                        setSelectedTournament(prev => prev ? {\n                          ...prev,\n                          is_started: false\n                        } : null);\n                        setMatches([]);\n                        await loadTournamentData();\n                        setSuccessModalData({\n                          title: \"¡Torneo Reseteado!\",\n                          message: \"El torneo ha sido reseteado y está listo para iniciar nuevamente.\",\n                          icon: \"🔄\"\n                        });\n                        setShowSuccessModal(true);\n                      } catch (error) {\n                        setError(\"Error al resetear el torneo: \" + error.message);\n                      } finally {\n                        setLoading(false);\n                      }\n                    }\n                  },\n                  disabled: loading,\n                  children: loading ? \"⏳ Reseteando...\" : \"🔄 Resetear Torneo\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1199,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1192,\n                columnNumber: 21\n              }, this), selectedTournament && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"debug-section\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"debug-toggle-btn\",\n                  onClick: () => setShowDebugInfo(!showDebugInfo),\n                  children: [showDebugInfo ? \"🔽\" : \"🔼\", \" Debug Info\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1247,\n                  columnNumber: 23\n                }, this), showDebugInfo && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"debug-info\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"debug-header\",\n                    children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                      children: \"\\uD83D\\uDD27 Informaci\\xF3n de Debug\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1257,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"debug-stats\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        children: [\"Estado:\", \" \", selectedTournament.is_started ? \"✅ Iniciado\" : \"⏳ Pendiente\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1259,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        children: [\"Parejas: \", pairs.length]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1265,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        children: [\"Partidos: \", matches.length]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1266,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1258,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1256,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"debug-buttons\",\n                    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: async () => {\n                        console.log(\"=== PROBAR CONEXIÓN ===\");\n                        const isConnected = await testConnection();\n                        if (isConnected) {\n                          setError(\"\");\n                        } else {\n                          setError(\"❌ Error de conexión a Supabase. Verifica tu configuración.\");\n                        }\n                      },\n                      className: \"debug-btn connection-btn\",\n                      children: \"\\uD83D\\uDD0C Probar Conexi\\xF3n\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1271,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => {\n                        console.log(\"=== FORZANDO RECARGA DE DATOS ===\");\n                        loadTournamentData();\n                      },\n                      className: \"debug-btn reload-btn\",\n                      children: \"\\uD83D\\uDD04 Recargar Datos\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1288,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: async () => {\n                        console.log(\"=== VERIFICANDO ESTADO DEL TORNEO ===\");\n                        try {\n                          console.log(\"Estado actual del torneo:\", selectedTournament);\n                          console.log(\"Parejas en estado:\", pairs.length);\n                          console.log(\"Partidos en estado:\", matches.length);\n                          const dbPairs = await getPairs(selectedTournament.id);\n                          const dbMatches = await getMatches(selectedTournament.id);\n                          console.log(\"Parejas en BD:\", dbPairs.length);\n                          console.log(\"Partidos en BD:\", dbMatches.length);\n                          alert(`Estado del torneo:\\n\\nParejas: ${pairs.length} (estado) / ${dbPairs.length} (BD)\\nPartidos: ${matches.length} (estado) / ${dbMatches.length} (BD)\\n\\nTorneo iniciado: ${selectedTournament.is_started ? \"Sí\" : \"No\"}`);\n                        } catch (error) {\n                          console.error(\"Error verificando estado:\", error);\n                        }\n                      },\n                      className: \"debug-btn status-btn\",\n                      children: \"\\uD83D\\uDD0D Verificar Estado\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1300,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1270,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1255,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1246,\n                columnNumber: 21\n              }, this), pairs.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"pairs-display\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  children: [\"\\uD83D\\uDC65 Parejas Registradas (\", pairs.length, \")\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1367,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"pairs-grid\",\n                  children: pairs.map((pair, index) => {\n                    var _pair$player9, _pair$player0;\n                    return /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"pair-display-card\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"pair-number\",\n                        children: [\"#\", index + 1]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1371,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"pair-names\",\n                        children: [(_pair$player9 = pair.player1) === null || _pair$player9 === void 0 ? void 0 : _pair$player9.name, \" y \", (_pair$player0 = pair.player2) === null || _pair$player0 === void 0 ? void 0 : _pair$player0.name]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1372,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"pair-stats\",\n                        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                          children: [\"Sets: \", pair.sets_won]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1376,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          children: [\"Partidos: \", pair.matches_played]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1377,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          children: [\"Puntos: \", pair.points]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1378,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1375,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                        onClick: () => {\n                          var _pair$player1, _pair$player10;\n                          if (window.confirm(`¿Estás seguro de que quieres eliminar la pareja \"${(_pair$player1 = pair.player1) === null || _pair$player1 === void 0 ? void 0 : _pair$player1.name} y ${(_pair$player10 = pair.player2) === null || _pair$player10 === void 0 ? void 0 : _pair$player10.name}\"?`)) {\n                            deletePair(pair.id);\n                          }\n                        },\n                        className: \"delete-pair-btn\",\n                        title: \"Eliminar pareja\",\n                        children: \"\\uD83D\\uDDD1\\uFE0F\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1380,\n                        columnNumber: 29\n                      }, this)]\n                    }, pair.id, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1370,\n                      columnNumber: 27\n                    }, this);\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1368,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1366,\n                columnNumber: 21\n              }, this), selectedTournament.is_started && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"tournament-content\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"matches-section\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                    children: [\"\\uD83C\\uDFBE Partidos (\", matches.length, \" total)\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1405,\n                    columnNumber: 25\n                  }, this), matches.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"no-matches\",\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      children: \"\\uD83D\\uDCDD No hay partidos programados a\\xFAn\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1408,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: \"Inicia el torneo para generar los partidos autom\\xE1ticamente\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1409,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1407,\n                    columnNumber: 27\n                  }, this) : Object.entries(matchesByRound).map(([round, roundMatches]) => /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"round-section\",\n                    children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                      children: [\"\\uD83D\\uDD04 Ronda \", round, \" (\", roundMatches.length, \" \", \"partidos)\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1418,\n                      columnNumber: 33\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"matches-container\",\n                      children: roundMatches.map(match => {\n                        var _match$pair, _match$pair$player, _match$pair2, _match$pair2$player, _match$pair3, _match$pair3$player, _match$pair4, _match$pair4$player, _match$pair5, _match$pair5$player, _match$pair6, _match$pair6$player, _match$pair7, _match$pair7$player, _match$pair8, _match$pair8$player;\n                        return /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: `match-card ${selectedMatchId === match.id ? \"selected\" : \"\"}`,\n                          onClick: () => handleMatchSelect(match.id),\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"match-header\",\n                            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                              children: [(_match$pair = match.pair1) === null || _match$pair === void 0 ? void 0 : (_match$pair$player = _match$pair.player1) === null || _match$pair$player === void 0 ? void 0 : _match$pair$player.name, \" y\", \" \", (_match$pair2 = match.pair1) === null || _match$pair2 === void 0 ? void 0 : (_match$pair2$player = _match$pair2.player2) === null || _match$pair2$player === void 0 ? void 0 : _match$pair2$player.name, \" vs\", \" \", (_match$pair3 = match.pair2) === null || _match$pair3 === void 0 ? void 0 : (_match$pair3$player = _match$pair3.player1) === null || _match$pair3$player === void 0 ? void 0 : _match$pair3$player.name, \" y\", \" \", (_match$pair4 = match.pair2) === null || _match$pair4 === void 0 ? void 0 : (_match$pair4$player = _match$pair4.player2) === null || _match$pair4$player === void 0 ? void 0 : _match$pair4$player.name]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1436,\n                              columnNumber: 41\n                            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"match-info\",\n                              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                                className: \"court-badge\",\n                                children: [\"\\uD83C\\uDFDF\\uFE0F Cancha \", match.court]\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 1443,\n                                columnNumber: 43\n                              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                                className: \"round-badge\",\n                                children: [\"\\uD83D\\uDD04 Ronda \", match.round]\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 1446,\n                                columnNumber: 43\n                              }, this)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1442,\n                              columnNumber: 41\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1435,\n                            columnNumber: 39\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"match-details\",\n                            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                              className: \"match-pairs\",\n                              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                                children: \"Pareja 1:\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 1453,\n                                columnNumber: 43\n                              }, this), \" \", (_match$pair5 = match.pair1) === null || _match$pair5 === void 0 ? void 0 : (_match$pair5$player = _match$pair5.player1) === null || _match$pair5$player === void 0 ? void 0 : _match$pair5$player.name, \" y\", \" \", (_match$pair6 = match.pair1) === null || _match$pair6 === void 0 ? void 0 : (_match$pair6$player = _match$pair6.player2) === null || _match$pair6$player === void 0 ? void 0 : _match$pair6$player.name]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1452,\n                              columnNumber: 41\n                            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                              className: \"match-pairs\",\n                              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                                children: \"Pareja 2:\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 1458,\n                                columnNumber: 43\n                              }, this), \" \", (_match$pair7 = match.pair2) === null || _match$pair7 === void 0 ? void 0 : (_match$pair7$player = _match$pair7.player1) === null || _match$pair7$player === void 0 ? void 0 : _match$pair7$player.name, \" y\", \" \", (_match$pair8 = match.pair2) === null || _match$pair8 === void 0 ? void 0 : (_match$pair8$player = _match$pair8.player2) === null || _match$pair8$player === void 0 ? void 0 : _match$pair8$player.name]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1457,\n                              columnNumber: 41\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1451,\n                            columnNumber: 39\n                          }, this), (() => {\n                            // Calcular el ganador en tiempo real\n                            const matchGames = games.filter(g => g.match_id === match.id);\n                            if (matchGames.length > 0) {\n                              const stats = MatchResultCalculator.calculateMatchStatistics(match, matchGames);\n                              const isTie = stats.isTie;\n                              if (isTie) {\n                                return /*#__PURE__*/_jsxDEV(\"div\", {\n                                  className: \"winner\",\n                                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                                    className: \"winner-icon\",\n                                    children: \"\\uD83E\\uDD1D\"\n                                  }, void 0, false, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 1479,\n                                    columnNumber: 49\n                                  }, this), \"Empate (\", stats.pair1TotalPoints, \"-\", stats.pair2TotalPoints, \" \", \"puntos)\"]\n                                }, void 0, true, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 1478,\n                                  columnNumber: 47\n                                }, this);\n                              } else {\n                                var _match$pair9, _match$pair9$player, _match$pair0, _match$pair0$player, _match$pair1, _match$pair1$player, _match$pair10, _match$pair10$player;\n                                const winnerId = stats.pair1TotalPoints > stats.pair2TotalPoints ? match.pair1_id : match.pair2_id;\n                                return /*#__PURE__*/_jsxDEV(\"div\", {\n                                  className: \"winner\",\n                                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                                    className: \"winner-icon\",\n                                    children: \"\\uD83C\\uDFC6\"\n                                  }, void 0, false, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 1496,\n                                    columnNumber: 49\n                                  }, this), \"Ganador:\", \" \", winnerId === match.pair1_id ? `${(_match$pair9 = match.pair1) === null || _match$pair9 === void 0 ? void 0 : (_match$pair9$player = _match$pair9.player1) === null || _match$pair9$player === void 0 ? void 0 : _match$pair9$player.name} y ${(_match$pair0 = match.pair1) === null || _match$pair0 === void 0 ? void 0 : (_match$pair0$player = _match$pair0.player2) === null || _match$pair0$player === void 0 ? void 0 : _match$pair0$player.name}` : `${(_match$pair1 = match.pair2) === null || _match$pair1 === void 0 ? void 0 : (_match$pair1$player = _match$pair1.player1) === null || _match$pair1$player === void 0 ? void 0 : _match$pair1$player.name} y ${(_match$pair10 = match.pair2) === null || _match$pair10 === void 0 ? void 0 : (_match$pair10$player = _match$pair10.player2) === null || _match$pair10$player === void 0 ? void 0 : _match$pair10$player.name}`]\n                                }, void 0, true, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 1495,\n                                  columnNumber: 47\n                                }, this);\n                              }\n                            } else {\n                              // Fallback a los datos de la base de datos\n                              if (match.winner_id) {\n                                var _match$pair11, _match$pair11$player, _match$pair12, _match$pair12$player, _match$pair13, _match$pair13$player, _match$pair14, _match$pair14$player;\n                                return /*#__PURE__*/_jsxDEV(\"div\", {\n                                  className: \"winner\",\n                                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                                    className: \"winner-icon\",\n                                    children: \"\\uD83C\\uDFC6\"\n                                  }, void 0, false, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 1511,\n                                    columnNumber: 49\n                                  }, this), \"Ganador:\", \" \", match.winner_id === match.pair1_id ? `${(_match$pair11 = match.pair1) === null || _match$pair11 === void 0 ? void 0 : (_match$pair11$player = _match$pair11.player1) === null || _match$pair11$player === void 0 ? void 0 : _match$pair11$player.name} y ${(_match$pair12 = match.pair1) === null || _match$pair12 === void 0 ? void 0 : (_match$pair12$player = _match$pair12.player2) === null || _match$pair12$player === void 0 ? void 0 : _match$pair12$player.name}` : `${(_match$pair13 = match.pair2) === null || _match$pair13 === void 0 ? void 0 : (_match$pair13$player = _match$pair13.player1) === null || _match$pair13$player === void 0 ? void 0 : _match$pair13$player.name} y ${(_match$pair14 = match.pair2) === null || _match$pair14 === void 0 ? void 0 : (_match$pair14$player = _match$pair14.player2) === null || _match$pair14$player === void 0 ? void 0 : _match$pair14$player.name}`]\n                                }, void 0, true, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 1510,\n                                  columnNumber: 47\n                                }, this);\n                              } else if (match.is_finished) {\n                                return /*#__PURE__*/_jsxDEV(\"div\", {\n                                  className: \"winner\",\n                                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                                    className: \"winner-icon\",\n                                    children: \"\\uD83E\\uDD1D\"\n                                  }, void 0, false, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 1524,\n                                    columnNumber: 49\n                                  }, this), \"Empate\"]\n                                }, void 0, true, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 1523,\n                                  columnNumber: 47\n                                }, this);\n                              }\n                            }\n                            return null;\n                          })(), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"match-status\",\n                            children: match.is_finished ? /*#__PURE__*/_jsxDEV(\"span\", {\n                              className: \"status-finished\",\n                              children: \"\\u2714 Finalizado\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1536,\n                              columnNumber: 43\n                            }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                              className: \"status-pending\",\n                              children: \"\\u23F3 Pendiente\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1540,\n                              columnNumber: 43\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1534,\n                            columnNumber: 39\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"match-actions\",\n                            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                              onClick: e => {\n                                e.stopPropagation();\n                                showMatchResultsHandler(match);\n                              },\n                              className: \"view-results-btn\",\n                              children: \"\\uD83D\\uDCCA Ver Resultados\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1546,\n                              columnNumber: 41\n                            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                              onClick: e => {\n                                e.stopPropagation();\n                                openScoreCorrector(match);\n                              },\n                              className: \"correct-result-btn\",\n                              children: \"\\u270F\\uFE0F Marcador\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1555,\n                              columnNumber: 41\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1545,\n                            columnNumber: 39\n                          }, this)]\n                        }, match.id, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1424,\n                          columnNumber: 37\n                        }, this);\n                      })\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1422,\n                      columnNumber: 33\n                    }, this)]\n                  }, round, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1417,\n                    columnNumber: 31\n                  }, this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1404,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(StandingsTable, {\n                  tournamentId: selectedTournament.id,\n                  forceRefresh: forceRefresh\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1575,\n                  columnNumber: 23\n                }, this), isTournamentFinished && winner && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"winner-button-container\",\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"show-winner-button\",\n                    onClick: showWinnerScreenHandler,\n                    children: \"\\uD83C\\uDFC6 \\xA1Ver Ganador!\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1583,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1582,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"back-home-button-container\",\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"back-home-button\",\n                    onClick: handleBackToHome,\n                    children: \"\\uD83C\\uDFE0 Volver al Inicio\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1594,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1593,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1402,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 927,\n              columnNumber: 17\n            }, this)\n          }, void 0, false) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"no-tournament-selected\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"\\uD83C\\uDFC6 Bienvenido al Gestor de Torneos\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1607,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Selecciona un torneo del panel izquierdo para comenzar a gestionar partidos y resultados.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1608,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1606,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 924,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 915,\n        columnNumber: 9\n      }, this), showWinnerScreen && winner && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"winner-screen\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"winner-content\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"winner-celebration\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"winner-title\",\n              children: \"\\uD83C\\uDFC6 \\xA1FELICIDADES! \\uD83C\\uDFC6\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1622,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"winner-names\",\n              children: [(_winner$player = winner.player1) === null || _winner$player === void 0 ? void 0 : _winner$player.name, \" y \", (_winner$player2 = winner.player2) === null || _winner$player2 === void 0 ? void 0 : _winner$player2.name]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1623,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"winner-subtitle\",\n              children: \"\\xA1Son los campeones del torneo!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1626,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"winner-stats\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-number\",\n                  children: tournamentWinner ? tournamentWinner.totalSets : winner.sets_won\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1631,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-label\",\n                  children: \"Sets Ganados\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1636,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1630,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-number\",\n                  children: tournamentWinner ? tournamentWinner.matchesPlayed : winner.games_won\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1639,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-label\",\n                  children: \"Partidos Ganados\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1644,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1638,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-number\",\n                  children: tournamentWinner ? tournamentWinner.totalPoints : winner.points\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1647,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-label\",\n                  children: \"Puntos Totales\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1652,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1646,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1629,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"back-button\",\n              onClick: hideWinnerScreenHandler,\n              children: \"\\uD83C\\uDFE0 Volver al Torneo\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1655,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1621,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1620,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1619,\n        columnNumber: 11\n      }, this), showMatchResults && selectedMatchResults && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"match-results-modal\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"match-results-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"match-results-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"\\uD83D\\uDCCA Resultados del Partido\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1671,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: hideMatchResultsHandler,\n              className: \"close-btn\",\n              children: \"\\u2715\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1672,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1670,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"match-results-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: [\"Partido \", selectedMatchResults.court, \" - Ronda\", \" \", selectedMatchResults.round]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1678,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"pairs-info\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"pair-info\",\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Pareja 1:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1684,\n                  columnNumber: 21\n                }, this), \" \", (_selectedMatchResults = selectedMatchResults.pair1) === null || _selectedMatchResults === void 0 ? void 0 : (_selectedMatchResults2 = _selectedMatchResults.player1) === null || _selectedMatchResults2 === void 0 ? void 0 : _selectedMatchResults2.name, \" y\", \" \", (_selectedMatchResults3 = selectedMatchResults.pair1) === null || _selectedMatchResults3 === void 0 ? void 0 : (_selectedMatchResults4 = _selectedMatchResults3.player2) === null || _selectedMatchResults4 === void 0 ? void 0 : _selectedMatchResults4.name]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1683,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"pair-info\",\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Pareja 2:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1689,\n                  columnNumber: 21\n                }, this), \" \", (_selectedMatchResults5 = selectedMatchResults.pair2) === null || _selectedMatchResults5 === void 0 ? void 0 : (_selectedMatchResults6 = _selectedMatchResults5.player1) === null || _selectedMatchResults6 === void 0 ? void 0 : _selectedMatchResults6.name, \" y\", \" \", (_selectedMatchResults7 = selectedMatchResults.pair2) === null || _selectedMatchResults7 === void 0 ? void 0 : (_selectedMatchResults8 = _selectedMatchResults7.player2) === null || _selectedMatchResults8 === void 0 ? void 0 : _selectedMatchResults8.name]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1688,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1682,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1677,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"match-results-details\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"result-summary\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"result-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"result-label\",\n                  children: \"Juegos Ganados:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1699,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"result-value\",\n                  children: [(calculatedMatchResults === null || calculatedMatchResults === void 0 ? void 0 : (_calculatedMatchResul = calculatedMatchResults.pair1) === null || _calculatedMatchResul === void 0 ? void 0 : _calculatedMatchResul.games_won) || ((_selectedMatchResults9 = selectedMatchResults.pair1) === null || _selectedMatchResults9 === void 0 ? void 0 : _selectedMatchResults9.games_won) || 0, \" \", \"-\", \" \", (calculatedMatchResults === null || calculatedMatchResults === void 0 ? void 0 : (_calculatedMatchResul2 = calculatedMatchResults.pair2) === null || _calculatedMatchResul2 === void 0 ? void 0 : _calculatedMatchResul2.games_won) || ((_selectedMatchResults0 = selectedMatchResults.pair2) === null || _selectedMatchResults0 === void 0 ? void 0 : _selectedMatchResults0.games_won) || 0]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1700,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1698,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"result-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"result-label\",\n                  children: \"Sets Ganados:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1711,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"result-value\",\n                  children: [(calculatedMatchResults === null || calculatedMatchResults === void 0 ? void 0 : (_calculatedMatchResul3 = calculatedMatchResults.pair1) === null || _calculatedMatchResul3 === void 0 ? void 0 : _calculatedMatchResul3.sets_won) || ((_selectedMatchResults1 = selectedMatchResults.pair1) === null || _selectedMatchResults1 === void 0 ? void 0 : _selectedMatchResults1.sets_won) || 0, \" \", \"-\", \" \", (calculatedMatchResults === null || calculatedMatchResults === void 0 ? void 0 : (_calculatedMatchResul4 = calculatedMatchResults.pair2) === null || _calculatedMatchResul4 === void 0 ? void 0 : _calculatedMatchResul4.sets_won) || ((_selectedMatchResults10 = selectedMatchResults.pair2) === null || _selectedMatchResults10 === void 0 ? void 0 : _selectedMatchResults10.sets_won) || 0]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1712,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1710,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"result-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"result-label\",\n                  children: \"Puntos Totales:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1723,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"result-value\",\n                  children: [(calculatedMatchResults === null || calculatedMatchResults === void 0 ? void 0 : (_calculatedMatchResul5 = calculatedMatchResults.pair1) === null || _calculatedMatchResul5 === void 0 ? void 0 : _calculatedMatchResul5.points) || ((_selectedMatchResults11 = selectedMatchResults.pair1) === null || _selectedMatchResults11 === void 0 ? void 0 : _selectedMatchResults11.points) || 0, \" \", \"-\", \" \", (calculatedMatchResults === null || calculatedMatchResults === void 0 ? void 0 : (_calculatedMatchResul6 = calculatedMatchResults.pair2) === null || _calculatedMatchResul6 === void 0 ? void 0 : _calculatedMatchResul6.points) || ((_selectedMatchResults12 = selectedMatchResults.pair2) === null || _selectedMatchResults12 === void 0 ? void 0 : _selectedMatchResults12.points) || 0]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1724,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1722,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1697,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"match-winner\",\n              children: ((_calculatedMatchResul7, _selectedMatchResults13, _calculatedMatchResul8, _selectedMatchResults14) => {\n                // Verificar si es empate basado en los puntos totales\n                const pair1Points = (calculatedMatchResults === null || calculatedMatchResults === void 0 ? void 0 : (_calculatedMatchResul7 = calculatedMatchResults.pair1) === null || _calculatedMatchResul7 === void 0 ? void 0 : _calculatedMatchResul7.points) || ((_selectedMatchResults13 = selectedMatchResults.pair1) === null || _selectedMatchResults13 === void 0 ? void 0 : _selectedMatchResults13.points) || 0;\n                const pair2Points = (calculatedMatchResults === null || calculatedMatchResults === void 0 ? void 0 : (_calculatedMatchResul8 = calculatedMatchResults.pair2) === null || _calculatedMatchResul8 === void 0 ? void 0 : _calculatedMatchResul8.points) || ((_selectedMatchResults14 = selectedMatchResults.pair2) === null || _selectedMatchResults14 === void 0 ? void 0 : _selectedMatchResults14.points) || 0;\n                const isTie = pair1Points === pair2Points;\n                if (isTie) {\n                  return /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"tie-display\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"tie-icon\",\n                      children: \"\\uD83E\\uDD1D\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1752,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"tie-text\",\n                      children: [\"Empate (\", pair1Points, \"-\", pair2Points, \" puntos totales)\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1753,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1751,\n                    columnNumber: 25\n                  }, this);\n                } else {\n                  const winnerId = (calculatedMatchResults === null || calculatedMatchResults === void 0 ? void 0 : calculatedMatchResults.winner_id) || selectedMatchResults.winner_id;\n                  if (winnerId) {\n                    var _selectedMatchResults15, _selectedMatchResults16, _selectedMatchResults17, _selectedMatchResults18, _selectedMatchResults19, _selectedMatchResults20, _selectedMatchResults21, _selectedMatchResults22, _selectedMatchResults23;\n                    return /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"winner-display\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"winner-icon\",\n                        children: \"\\uD83C\\uDFC6\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1765,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"winner-text\",\n                        children: [\"Ganador:\", \" \", winnerId === ((_selectedMatchResults15 = selectedMatchResults.pair1) === null || _selectedMatchResults15 === void 0 ? void 0 : _selectedMatchResults15.id) ? `${(_selectedMatchResults16 = selectedMatchResults.pair1) === null || _selectedMatchResults16 === void 0 ? void 0 : (_selectedMatchResults17 = _selectedMatchResults16.player1) === null || _selectedMatchResults17 === void 0 ? void 0 : _selectedMatchResults17.name} y ${(_selectedMatchResults18 = selectedMatchResults.pair1) === null || _selectedMatchResults18 === void 0 ? void 0 : (_selectedMatchResults19 = _selectedMatchResults18.player2) === null || _selectedMatchResults19 === void 0 ? void 0 : _selectedMatchResults19.name}` : `${(_selectedMatchResults20 = selectedMatchResults.pair2) === null || _selectedMatchResults20 === void 0 ? void 0 : (_selectedMatchResults21 = _selectedMatchResults20.player1) === null || _selectedMatchResults21 === void 0 ? void 0 : _selectedMatchResults21.name} y ${(_selectedMatchResults22 = selectedMatchResults.pair2) === null || _selectedMatchResults22 === void 0 ? void 0 : (_selectedMatchResults23 = _selectedMatchResults22.player2) === null || _selectedMatchResults23 === void 0 ? void 0 : _selectedMatchResults23.name}`]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1766,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1764,\n                      columnNumber: 27\n                    }, this);\n                  } else {\n                    return /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"tie-display\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"tie-icon\",\n                        children: \"\\uD83E\\uDD1D\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1777,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"tie-text\",\n                        children: \"Empate\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1778,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1776,\n                      columnNumber: 27\n                    }, this);\n                  }\n                }\n              })()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1736,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1696,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"match-results-actions\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: hideMatchResultsHandler,\n              className: \"close-results-btn\",\n              children: \"Cerrar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1788,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1787,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1669,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1668,\n        columnNumber: 11\n      }, this), showScoreCorrector && selectedCorrectorMatch && /*#__PURE__*/_jsxDEV(MatchScoreEditor, {\n        match: selectedCorrectorMatch,\n        onClose: closeScoreCorrector,\n        onUpdate: handleScoreCorrectorUpdate\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1801,\n        columnNumber: 11\n      }, this), showSuccessModal && /*#__PURE__*/_jsxDEV(SuccessModal, {\n        title: successModalData.title,\n        message: successModalData.message,\n        icon: successModalData.icon,\n        isOpen: showSuccessModal,\n        onClose: () => setShowSuccessModal(false)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1810,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 891,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 890,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"Igaja3gfzWbEDEJv3/EiJ9rEm58=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useMemo","TournamentManager","PlayerManager","PairManager","MatchScoreEditor","StandingsTable","SuccessModal","createPair","getPairs","updatePair","deletePair","deletePairFromDB","createMatch","getMatches","updateMatch","deleteMatchesByTournament","createGame","getGames","updateGame","deleteGame","updateTournament","testConnection","FlexibleMatchFinisher","MatchResultCalculator","TournamentWinnerCalculator","jsxDEV","_jsxDEV","Fragment","_Fragment","App","_s","_winner$player","_winner$player2","_selectedMatchResults","_selectedMatchResults2","_selectedMatchResults3","_selectedMatchResults4","_selectedMatchResults5","_selectedMatchResults6","_selectedMatchResults7","_selectedMatchResults8","_calculatedMatchResul","_selectedMatchResults9","_calculatedMatchResul2","_selectedMatchResults0","_calculatedMatchResul3","_selectedMatchResults1","_calculatedMatchResul4","_selectedMatchResults10","_calculatedMatchResul5","_selectedMatchResults11","_calculatedMatchResul6","_selectedMatchResults12","selectedTournament","setSelectedTournament","pairs","setPairs","matches","setMatches","games","setGames","selectedMatchId","setSelectedMatchId","error","setError","loading","setLoading","showPlayerManager","setShowPlayerManager","showPairManager","setShowPairManager","selectedPlayers","setSelectedPlayers","showWinnerScreen","setShowWinnerScreen","showMatchResults","setShowMatchResults","selectedMatchResults","setSelectedMatchResults","calculatedMatchResults","setCalculatedMatchResults","showScoreCorrector","setShowScoreCorrector","selectedCorrectorMatch","setSelectedCorrectorMatch","forceRefresh","setForceRefresh","showDebugInfo","setShowDebugInfo","editingGames","setEditingGames","editingTieBreaks","setEditingTieBreaks","showSuccessModal","setShowSuccessModal","successModalData","setSuccessModalData","title","message","icon","loadTournamentData","id","console","log","name","pairsData","matchesData","Promise","all","length","err","pairId","filter","p","updatePairPlayers","player1","player2","player1_id","player2_id","map","pair","addPair","existingPairLocal","find","_pair$player","_pair$player2","_pair$player3","_pair$player4","sameIds","sameNames","toLowerCase","newPair","startTournament","allPairs","allCombinations","i","j","push","pair1","pair2","finalMatches","remainingCombinations","round","roundMatches","usedPairs","Set","courtOrder","courts","rotatedCourt","courtIndex","court","bestIndex","bestScore","combo","has","score","futureCombo","match","add","splice","createdMatches","createdMatch","is_started","prev","addGame","matchId","gameNumber","g","match_id","newGame","updateGameScore","gameId","pair1Games","pair2Games","prevGames","pair1_games","pair2_games","handleGameScoreChange","handleTieBreakScoreChange","pair1Points","pair2Points","handleGameScoreBlur","editingGame","newState","handleTieBreakScoreBlur","editingTieBreak","updateTieBreakScore","tie_break_pair1_points","tie_break_pair2_points","toggleTieBreak","game","newIsTieBreak","is_tie_break","removeGame","correctGameScore","pair1TieBreakPoints","pair2TieBreakPoints","isTieBreak","updated_at","Date","toISOString","finishMatch","m","matchGames","canFinishMatch","result","success","winner_id","winnerId","is_finished","updatedPairsData","alert","handleMatchSelect","loadMatchGames","gamesData","selectedMatch","matchesByRound","reduce","acc","sortedPairs","sort","a","b","points","sets_won","games_won","matches_played","isTournamentFinished","every","tournamentWinner","setTournamentWinner","winner","showWinnerScreenHandler","calculateTournamentWinner","hideWinnerScreenHandler","showMatchResultsHandler","stats","calculateMatchStatistics","calculatedMatch","pair1GamesWon","pair1SetsWon","pair1TotalPoints","pair2GamesWon","pair2SetsWon","pair2TotalPoints","isTie","undefined","pair1_id","pair2_id","hideMatchResultsHandler","handleViewTournamentResults","tournament","recalculateMatchWinner","forEach","handleBackToHome","openScoreCorrector","otherGames","closeScoreCorrector","handleScoreCorrectorUpdate","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onTournamentSelect","onViewResults","description","onClick","playersInPairs","flatMap","onPlayerSelect","players","player","index","isInPair","some","_existingPair$player","_existingPair$player2","_existingPair$player3","existingPair","playerNames","join","_pair$player5","_pair$player6","_pair$player7","_pair$player8","allowMultipleSelection","onPairUpdate","onPairDelete","disabled","window","confirm","isConnected","dbPairs","dbMatches","_pair$player9","_pair$player0","_pair$player1","_pair$player10","Object","entries","_match$pair","_match$pair$player","_match$pair2","_match$pair2$player","_match$pair3","_match$pair3$player","_match$pair4","_match$pair4$player","_match$pair5","_match$pair5$player","_match$pair6","_match$pair6$player","_match$pair7","_match$pair7$player","_match$pair8","_match$pair8$player","_match$pair9","_match$pair9$player","_match$pair0","_match$pair0$player","_match$pair1","_match$pair1$player","_match$pair10","_match$pair10$player","_match$pair11","_match$pair11$player","_match$pair12","_match$pair12$player","_match$pair13","_match$pair13$player","_match$pair14","_match$pair14$player","e","stopPropagation","tournamentId","totalSets","matchesPlayed","totalPoints","_calculatedMatchResul7","_selectedMatchResults13","_calculatedMatchResul8","_selectedMatchResults14","_selectedMatchResults15","_selectedMatchResults16","_selectedMatchResults17","_selectedMatchResults18","_selectedMatchResults19","_selectedMatchResults20","_selectedMatchResults21","_selectedMatchResults22","_selectedMatchResults23","onClose","onUpdate","isOpen","_c","$RefreshReg$"],"sources":["/Users/nedev/padel-tournament-app/src/App.tsx"],"sourcesContent":["import React, { useState, useEffect, useCallback, useMemo } from \"react\";\nimport \"./App.css\";\nimport { TournamentManager } from \"./components/TournamentManager\";\nimport { PlayerManager } from \"./components/PlayerManager\";\nimport { PairManager } from \"./components/PairManager\";\nimport { MatchScoreEditor } from \"./components/MatchScoreEditor\";\nimport StandingsTable from \"./components/StandingsTable\";\nimport { SuccessModal } from \"./components/SuccessModal\";\n\nimport {\n  Tournament,\n  Player,\n  Pair,\n  Match,\n  Game,\n  createPair,\n  getPairs,\n  updatePair,\n  deletePair as deletePairFromDB,\n  deletePairsByTournament,\n  createMatch,\n  getMatches,\n  updateMatch,\n  deleteMatchesByTournament,\n  createGame,\n  getGames,\n  updateGame,\n  deleteGame,\n  updateTournament,\n} from \"./lib/database\";\nimport { testConnection } from \"./lib/supabaseClient\";\nimport { FlexibleMatchFinisher } from \"./components/FlexibleMatchFinisher\";\nimport { MatchResultCalculator } from \"./components/MatchResultCalculator\";\nimport {\n  TournamentWinnerCalculator,\n  TournamentWinner,\n} from \"./components/TournamentWinnerCalculator\";\n\nfunction App() {\n  const [selectedTournament, setSelectedTournament] =\n    useState<Tournament | null>(null);\n  const [pairs, setPairs] = useState<Pair[]>([]);\n  const [matches, setMatches] = useState<Match[]>([]);\n  const [games, setGames] = useState<Game[]>([]);\n  const [selectedMatchId, setSelectedMatchId] = useState<string | null>(null);\n  const [error, setError] = useState<string>(\"\");\n  const [loading, setLoading] = useState(false);\n  const [showPlayerManager, setShowPlayerManager] = useState(false);\n  const [showPairManager, setShowPairManager] = useState(false);\n  const [selectedPlayers, setSelectedPlayers] = useState<Player[]>([]);\n  const [showWinnerScreen, setShowWinnerScreen] = useState(false);\n  const [showMatchResults, setShowMatchResults] = useState(false);\n  const [selectedMatchResults, setSelectedMatchResults] =\n    useState<Match | null>(null);\n  const [calculatedMatchResults, setCalculatedMatchResults] =\n    useState<any>(null);\n  const [showScoreCorrector, setShowScoreCorrector] = useState(false);\n  const [selectedCorrectorMatch, setSelectedCorrectorMatch] =\n    useState<Match | null>(null);\n  const [forceRefresh, setForceRefresh] = useState(0);\n  const [showDebugInfo, setShowDebugInfo] = useState(false);\n  const [editingGames, setEditingGames] = useState<{\n    [key: string]: { pair1: number; pair2: number };\n  }>({});\n  const [editingTieBreaks, setEditingTieBreaks] = useState<{\n    [key: string]: { pair1: number; pair2: number };\n  }>({});\n\n  const [showSuccessModal, setShowSuccessModal] = useState(false);\n  const [successModalData, setSuccessModalData] = useState({\n    title: \"\",\n    message: \"\",\n    icon: \"✅\",\n  });\n\n  // Cargar datos cuando se selecciona un torneo\n  useEffect(() => {\n    if (selectedTournament) {\n      loadTournamentData();\n    }\n  }, [selectedTournament?.id]);\n\n  const loadTournamentData = useCallback(async () => {\n    if (!selectedTournament) return;\n\n    try {\n      setLoading(true);\n      setError(\"\");\n      console.log(\"Loading tournament data for:\", selectedTournament.name);\n\n      const [pairsData, matchesData] = await Promise.all([\n        getPairs(selectedTournament.id),\n        getMatches(selectedTournament.id),\n      ]);\n\n      console.log(\"Pairs loaded:\", pairsData.length, \"pairs\");\n      setPairs(pairsData);\n\n      console.log(\n        \"Matches loaded from database:\",\n        matchesData.length,\n        \"matches\"\n      );\n      setMatches(matchesData);\n    } catch (err) {\n      console.error(\"Error loading tournament data:\", err);\n      setError(\n        \"Error al cargar los datos del torneo: \" + (err as Error).message\n      );\n    } finally {\n      setLoading(false);\n    }\n  }, [selectedTournament]);\n\n  const deletePair = async (pairId: string) => {\n    try {\n      setError(\"\");\n      console.log(\"Eliminando pareja:\", pairId);\n\n      await deletePairFromDB(pairId);\n      setPairs(pairs.filter((p) => p.id !== pairId));\n\n      console.log(\"Pareja eliminada exitosamente\");\n    } catch (err) {\n      console.error(\"Error eliminando pareja:\", err);\n      setError(\"Error al eliminar la pareja: \" + (err as Error).message);\n    }\n  };\n\n  const updatePairPlayers = async (\n    pairId: string,\n    player1: Player,\n    player2: Player\n  ) => {\n    try {\n      setError(\"\");\n      console.log(\"Actualizando pareja:\", pairId);\n      console.log(\"Nuevos jugadores:\", player1.name, \"+\", player2.name);\n\n      // Actualizar la pareja en la base de datos\n      await updatePair(pairId, {\n        player1_id: player1.id,\n        player2_id: player2.id,\n      });\n\n      // Actualizar el estado local\n      setPairs(\n        pairs.map((pair) => {\n          if (pair.id === pairId) {\n            return {\n              ...pair,\n              player1_id: player1.id,\n              player2_id: player2.id,\n              player1: player1,\n              player2: player2,\n            };\n          }\n          return pair;\n        })\n      );\n\n      console.log(\"Pareja actualizada exitosamente\");\n    } catch (err) {\n      console.error(\"Error actualizando pareja:\", err);\n      setError(\"Error al actualizar la pareja: \" + (err as Error).message);\n    }\n  };\n\n  const addPair = async (player1: Player, player2: Player) => {\n    if (!selectedTournament) {\n      setError(\"No hay torneo seleccionado\");\n      return;\n    }\n\n    try {\n      setError(\"\");\n\n      // Verificar duplicados en estado local\n      const existingPairLocal = pairs.find((pair) => {\n        const sameIds =\n          (pair.player1_id === player1.id && pair.player2_id === player2.id) ||\n          (pair.player1_id === player2.id && pair.player2_id === player1.id);\n\n        const sameNames =\n          (pair.player1?.name.toLowerCase() === player1.name.toLowerCase() &&\n            pair.player2?.name.toLowerCase() === player2.name.toLowerCase()) ||\n          (pair.player1?.name.toLowerCase() === player2.name.toLowerCase() &&\n            pair.player2?.name.toLowerCase() === player1.name.toLowerCase());\n\n        return sameIds || sameNames;\n      });\n\n      if (existingPairLocal) {\n        setError(\n          `La pareja ${player1.name} y ${player2.name} ya está registrada`\n        );\n        return;\n      }\n\n      const newPair = await createPair(\n        selectedTournament.id,\n        player1.id,\n        player2.id\n      );\n\n      setPairs([...pairs, newPair]);\n      setSelectedPlayers([]);\n\n      console.log(\"Pair added successfully\");\n    } catch (err) {\n      console.error(\"Error creating pair:\", err);\n      setError(\"Error al crear la pareja: \" + (err as Error).message);\n    }\n  };\n\n  const startTournament = async () => {\n    if (!selectedTournament || pairs.length < 2) {\n      setError(\"Se necesitan al menos 2 parejas para iniciar el torneo\");\n      return;\n    }\n\n    try {\n      setLoading(true);\n      setError(\"\");\n\n      console.log(\"🚀 Iniciando torneo:\", selectedTournament.name);\n\n      // Limpiar partidos existentes\n      if (matches.length > 0) {\n        await deleteMatchesByTournament(selectedTournament.id);\n        setMatches([]);\n      }\n\n      const allPairs = [...pairs];\n      const allCombinations = [];\n\n      for (let i = 0; i < allPairs.length; i++) {\n        for (let j = i + 1; j < allPairs.length; j++) {\n          allCombinations.push({\n            pair1: allPairs[i],\n            pair2: allPairs[j],\n          });\n        }\n      }\n\n      const finalMatches = [];\n      const remainingCombinations = [...allCombinations];\n      let round = 1;\n\n      while (remainingCombinations.length > 0) {\n        const roundMatches = [];\n        const usedPairs = new Set();\n        const courtOrder = [];\n\n        for (let i = 0; i < selectedTournament.courts; i++) {\n          const rotatedCourt =\n            ((round - 1 + i) % selectedTournament.courts) + 1;\n          courtOrder.push(rotatedCourt);\n        }\n\n        for (let courtIndex = 0; courtIndex < courtOrder.length; courtIndex++) {\n          const court = courtOrder[courtIndex];\n          let bestIndex = -1;\n          let bestScore = -1;\n\n          for (let i = 0; i < remainingCombinations.length; i++) {\n            const combo = remainingCombinations[i];\n\n            if (\n              !usedPairs.has(combo.pair1.id) &&\n              !usedPairs.has(combo.pair2.id)\n            ) {\n              let score = 0;\n\n              for (let j = 0; j < remainingCombinations.length; j++) {\n                if (i !== j) {\n                  const futureCombo = remainingCombinations[j];\n                  if (\n                    !usedPairs.has(futureCombo.pair1.id) &&\n                    !usedPairs.has(futureCombo.pair2.id) &&\n                    futureCombo.pair1.id !== combo.pair1.id &&\n                    futureCombo.pair1.id !== combo.pair2.id &&\n                    futureCombo.pair2.id !== combo.pair1.id &&\n                    futureCombo.pair2.id !== combo.pair2.id\n                  ) {\n                    score++;\n                  }\n                }\n              }\n\n              if (score > bestScore) {\n                bestScore = score;\n                bestIndex = i;\n              }\n            }\n          }\n\n          if (bestIndex !== -1) {\n            const combo = remainingCombinations[bestIndex];\n\n            const match = {\n              pair1: combo.pair1,\n              pair2: combo.pair2,\n              round,\n              court,\n            };\n\n            roundMatches.push(match);\n            usedPairs.add(combo.pair1.id);\n            usedPairs.add(combo.pair2.id);\n            remainingCombinations.splice(bestIndex, 1);\n          } else {\n            break;\n          }\n        }\n\n        if (roundMatches.length > 0) {\n          finalMatches.push(...roundMatches);\n        }\n\n        round++;\n      }\n\n      const createdMatches = [];\n\n      for (const match of finalMatches) {\n        try {\n          const createdMatch = await createMatch(\n            selectedTournament.id,\n            match.pair1.id,\n            match.pair2.id,\n            match.court,\n            match.round\n          );\n          createdMatches.push(createdMatch);\n        } catch (error) {\n          console.error(\"Error creating match:\", error);\n        }\n      }\n\n      await updateTournament(selectedTournament.id, { is_started: true });\n      setSelectedTournament((prev) =>\n        prev ? { ...prev, is_started: true } : null\n      );\n\n      await loadTournamentData();\n\n      setSuccessModalData({\n        title: \"¡Torneo Iniciado!\",\n        message: `Se han creado ${createdMatches.length} partidos exitosamente usando ${selectedTournament.courts} canchas. El torneo está listo para comenzar.`,\n        icon: \"🏆\",\n      });\n      setShowSuccessModal(true);\n    } catch (error) {\n      console.error(\"Error starting tournament:\", error);\n      setError(\"Error al iniciar el torneo: \" + (error as Error).message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const addGame = async (matchId: string) => {\n    try {\n      setError(\"\");\n      const gameNumber = games.filter((g) => g.match_id === matchId).length + 1;\n\n      const newGame = await createGame(matchId, gameNumber);\n      setGames([...games, newGame]);\n    } catch (err) {\n      console.error(\"❌ Error al agregar el juego:\", err);\n      setError(\"Error al agregar el juego\");\n    }\n  };\n\n  const updateGameScore = useCallback(\n    async (gameId: string, pair1Games: number, pair2Games: number) => {\n      try {\n        setError(\"\");\n\n        setGames((prevGames) =>\n          prevGames.map((g) =>\n            g.id === gameId\n              ? { ...g, pair1_games: pair1Games, pair2_games: pair2Games }\n              : g\n          )\n        );\n\n        await updateGame(gameId, {\n          pair1_games: pair1Games,\n          pair2_games: pair2Games,\n        });\n      } catch (err) {\n        console.error(\"❌ Error al actualizar el marcador:\", err);\n        setError(\"Error al actualizar el marcador: \" + (err as Error).message);\n      }\n    },\n    [games, selectedTournament]\n  );\n\n  const handleGameScoreChange = useCallback(\n    (gameId: string, pair1Games: number, pair2Games: number) => {\n      setEditingGames((prev) => ({\n        ...prev,\n        [gameId]: { pair1: pair1Games, pair2: pair2Games },\n      }));\n    },\n    []\n  );\n\n  const handleTieBreakScoreChange = useCallback(\n    (gameId: string, pair1Points: number, pair2Points: number) => {\n      setEditingTieBreaks((prev) => ({\n        ...prev,\n        [gameId]: { pair1: pair1Points, pair2: pair2Points },\n      }));\n    },\n    []\n  );\n\n  const handleGameScoreBlur = useCallback(\n    async (gameId: string) => {\n      const editingGame = editingGames[gameId];\n      if (editingGame) {\n        await updateGameScore(gameId, editingGame.pair1, editingGame.pair2);\n        setEditingGames((prev) => {\n          const newState = { ...prev };\n          delete newState[gameId];\n          return newState;\n        });\n      }\n    },\n    [editingGames]\n  );\n\n  const handleTieBreakScoreBlur = useCallback(\n    async (gameId: string) => {\n      const editingTieBreak = editingTieBreaks[gameId];\n      if (editingTieBreak) {\n        await updateTieBreakScore(\n          gameId,\n          editingTieBreak.pair1,\n          editingTieBreak.pair2\n        );\n        setEditingTieBreaks((prev) => {\n          const newState = { ...prev };\n          delete newState[gameId];\n          return newState;\n        });\n      }\n    },\n    [editingTieBreaks]\n  );\n\n  const updateTieBreakScore = async (\n    gameId: string,\n    pair1Points: number,\n    pair2Points: number\n  ) => {\n    try {\n      setError(\"\");\n\n      setGames((prevGames) =>\n        prevGames.map((g) =>\n          g.id === gameId\n            ? {\n                ...g,\n                tie_break_pair1_points: pair1Points,\n                tie_break_pair2_points: pair2Points,\n              }\n            : g\n        )\n      );\n\n      await updateGame(gameId, {\n        tie_break_pair1_points: pair1Points,\n        tie_break_pair2_points: pair2Points,\n      });\n    } catch (err) {\n      console.error(\"❌ Error al actualizar el tie break:\", err);\n      setError(\"Error al actualizar el tie break: \" + (err as Error).message);\n    }\n  };\n\n  const toggleTieBreak = async (gameId: string) => {\n    try {\n      setError(\"\");\n      const game = games.find((g) => g.id === gameId);\n      if (!game) return;\n\n      const newIsTieBreak = !game.is_tie_break;\n\n      setGames((prevGames) =>\n        prevGames.map((g) =>\n          g.id === gameId\n            ? {\n                ...g,\n                is_tie_break: newIsTieBreak,\n                tie_break_pair1_points: 0,\n                tie_break_pair2_points: 0,\n              }\n            : g\n        )\n      );\n\n      await updateGame(gameId, {\n        is_tie_break: newIsTieBreak,\n        tie_break_pair1_points: 0,\n        tie_break_pair2_points: 0,\n      });\n    } catch (err) {\n      setError(\"Error al cambiar el tipo de juego\");\n      console.error(err);\n    }\n  };\n\n  const removeGame = async (gameId: string) => {\n    try {\n      setError(\"\");\n\n      await deleteGame(gameId);\n      setGames(games.filter((g) => g.id !== gameId));\n    } catch (err) {\n      console.error(\"❌ Error al eliminar el juego:\", err);\n      setError(\"Error al eliminar el juego: \" + (err as Error).message);\n    }\n  };\n\n  const correctGameScore = useCallback(\n    async (\n      gameId: string,\n      pair1Games: number,\n      pair2Games: number,\n      pair1TieBreakPoints: number = 0,\n      pair2TieBreakPoints: number = 0,\n      isTieBreak: boolean = false\n    ) => {\n      try {\n        setError(\"\");\n\n        setGames((prevGames) =>\n          prevGames.map((g) =>\n            g.id === gameId\n              ? {\n                  ...g,\n                  pair1_games: pair1Games,\n                  pair2_games: pair2Games,\n                  tie_break_pair1_points: pair1TieBreakPoints,\n                  tie_break_pair2_points: pair2TieBreakPoints,\n                  is_tie_break: isTieBreak,\n                  updated_at: new Date().toISOString(),\n                }\n              : g\n          )\n        );\n\n        await updateGame(gameId, {\n          pair1_games: pair1Games,\n          pair2_games: pair2Games,\n          tie_break_pair1_points: pair1TieBreakPoints,\n          tie_break_pair2_points: pair2TieBreakPoints,\n          is_tie_break: isTieBreak,\n        });\n      } catch (err) {\n        console.error(\"❌ Error al corregir el marcador:\", err);\n        setError(\"Error al corregir el marcador: \" + (err as Error).message);\n      }\n    },\n    []\n  );\n\n  const finishMatch = async (matchId: string) => {\n    try {\n      setError(\"\");\n      const match = matches.find((m) => m.id === matchId);\n      if (!match) {\n        console.error(\"Match not found:\", matchId);\n        return;\n      }\n\n      const matchGames = games.filter((g) => g.match_id === matchId);\n\n      if (!FlexibleMatchFinisher.canFinishMatch(matchGames)) {\n        setError(\n          \"No se puede finalizar el partido. Verifica que todos los juegos tengan marcadores válidos.\"\n        );\n        return;\n      }\n\n      const result = await FlexibleMatchFinisher.finishMatch(\n        match,\n        matchGames,\n        pairs,\n        async () => {\n          if (selectedTournament) {\n            const pairsData = await getPairs(selectedTournament.id);\n            setPairs(pairsData);\n            setForceRefresh((prev) => prev + 1);\n            const matchesData = await getMatches(selectedTournament.id);\n            setMatches(matchesData);\n          }\n        }\n      );\n\n      if (result.success) {\n        setMatches(\n          matches.map((m) =>\n            m.id === matchId\n              ? { ...m, winner_id: result.winnerId, is_finished: true }\n              : m\n          )\n        );\n\n        if (selectedTournament) {\n          const updatedPairsData = await getPairs(selectedTournament.id);\n          setPairs(updatedPairsData);\n          setForceRefresh((prev) => prev + 1);\n        }\n\n        alert(result.message);\n      } else {\n        setError(result.message);\n      }\n    } catch (err) {\n      setError(\"Error al finalizar el partido\");\n      console.error(err);\n    }\n  };\n\n  const handleMatchSelect = (matchId: string) => {\n    setSelectedMatchId(matchId);\n    loadMatchGames(matchId);\n  };\n\n  const loadMatchGames = async (matchId: string) => {\n    try {\n      const gamesData = await getGames(matchId);\n      setGames(gamesData);\n    } catch (err) {\n      console.error(\"❌ Error al cargar juegos:\", err);\n    }\n  };\n\n  const selectedMatch = matches.find((match) => match.id === selectedMatchId);\n\n  const matchesByRound = matches.reduce((acc, match) => {\n    if (!acc[match.round]) {\n      acc[match.round] = [];\n    }\n    acc[match.round].push(match);\n    return acc;\n  }, {} as Record<number, Match[]>);\n\n  const sortedPairs = useMemo(() => {\n    return [...pairs].sort((a, b) => {\n      // Criterio 1: Puntos totales (descendente) - CRITERIO PRINCIPAL\n      if (a.points !== b.points) {\n        return b.points - a.points;\n      }\n      // Criterio 2: Sets ganados (descendente) - CRITERIO DE DESEMPATE\n      if (a.sets_won !== b.sets_won) {\n        return b.sets_won - a.sets_won;\n      }\n      // Criterio 3: Juegos ganados (descendente)\n      if (a.games_won !== b.games_won) {\n        return b.games_won - a.games_won;\n      }\n      // Criterio 4: Menos partidos jugados (mejor eficiencia)\n      return a.matches_played - b.matches_played;\n    });\n  }, [pairs, forceRefresh]);\n\n  const isTournamentFinished = useMemo(() => {\n    return matches.length > 0 && matches.every((match) => match.is_finished);\n  }, [matches]);\n\n  const [tournamentWinner, setTournamentWinner] =\n    useState<TournamentWinner | null>(null);\n\n  const winner = useMemo(() => {\n    return tournamentWinner\n      ? tournamentWinner.pair\n      : sortedPairs.length > 0\n      ? sortedPairs[0]\n      : null;\n  }, [tournamentWinner, sortedPairs]);\n\n  const showWinnerScreenHandler = async () => {\n    try {\n      console.log(\"🏆 Calculando ganador del torneo...\");\n      const winner = await TournamentWinnerCalculator.calculateTournamentWinner(\n        pairs,\n        matches\n      );\n      setTournamentWinner(winner);\n      setShowWinnerScreen(true);\n    } catch (error) {\n      console.error(\"❌ Error al calcular ganador:\", error);\n      setShowWinnerScreen(true);\n    }\n  };\n\n  const hideWinnerScreenHandler = () => {\n    setShowWinnerScreen(false);\n  };\n\n  const showMatchResultsHandler = async (match: Match) => {\n    try {\n      // Obtener los juegos del partido\n      const matchGames = await getGames(match.id);\n\n      // Calcular estadísticas en tiempo real\n      const stats = MatchResultCalculator.calculateMatchStatistics(\n        match,\n        matchGames\n      );\n\n      // Crear un objeto con los resultados calculados\n      const calculatedMatch = {\n        ...match,\n        pair1: {\n          ...match.pair1,\n          games_won: stats.pair1GamesWon,\n          sets_won: stats.pair1SetsWon,\n          points: stats.pair1TotalPoints,\n        },\n        pair2: {\n          ...match.pair2,\n          games_won: stats.pair2GamesWon,\n          sets_won: stats.pair2SetsWon,\n          points: stats.pair2TotalPoints,\n        },\n        winner_id: stats.isTie\n          ? undefined\n          : stats.pair1TotalPoints > stats.pair2TotalPoints\n          ? match.pair1_id\n          : match.pair2_id,\n      };\n\n      setSelectedMatchResults(match);\n      setCalculatedMatchResults(calculatedMatch);\n      setShowMatchResults(true);\n    } catch (error) {\n      console.error(\"Error al calcular resultados:\", error);\n      // Fallback al comportamiento original\n      setSelectedMatchResults(match);\n      setShowMatchResults(true);\n    }\n  };\n\n  const hideMatchResultsHandler = () => {\n    setShowMatchResults(false);\n    setSelectedMatchResults(null);\n    setCalculatedMatchResults(null);\n  };\n\n  const handleViewTournamentResults = async (tournament: Tournament) => {\n    try {\n      setSelectedTournament(tournament);\n      await loadTournamentData();\n      alert(\n        `✅ Torneo \"${tournament.name}\" seleccionado\\n\\nAhora puedes ver todos los partidos y resultados en el panel derecho.`\n      );\n    } catch (err) {\n      console.error(\"❌ Error al cargar resultados del torneo:\", err);\n      alert(\"Error al cargar los resultados del torneo. Inténtalo de nuevo.\");\n    }\n  };\n\n  const recalculateMatchWinner = async (matchId: string) => {\n    try {\n      const match = matches.find((m) => m.id === matchId);\n      if (!match) {\n        console.error(\"Match not found:\", matchId);\n        return;\n      }\n\n      const matchGames = await getGames(matchId);\n\n      if (matchGames.length === 0) {\n        console.log(\"No hay juegos para recalcular\");\n        return;\n      }\n\n      let pair1Games = 0;\n      let pair2Games = 0;\n\n      matchGames.forEach((game) => {\n        if (game.is_tie_break) {\n          if (\n            game.tie_break_pair1_points >= 10 &&\n            game.tie_break_pair1_points - game.tie_break_pair2_points >= 2\n          ) {\n            pair1Games++;\n          } else if (\n            game.tie_break_pair2_points >= 10 &&\n            game.tie_break_pair2_points - game.tie_break_pair1_points >= 2\n          ) {\n            pair2Games++;\n          }\n        } else {\n          if (game.pair1_games > game.pair2_games) {\n            pair1Games++;\n          } else if (game.pair2_games > game.pair1_games) {\n            pair2Games++;\n          }\n        }\n      });\n\n      const isTie = pair1Games === pair2Games;\n      const winnerId = isTie\n        ? undefined\n        : pair1Games > pair2Games\n        ? match.pair1_id\n        : match.pair2_id;\n\n      await updateMatch(matchId, {\n        winner_id: winnerId,\n        is_finished: true,\n      });\n\n      console.log(\"✅ Ganador recalculado y actualizado en la base de datos\");\n    } catch (error) {\n      console.error(\"Error recalculating match winner:\", error);\n    }\n  };\n\n  const handleBackToHome = () => {\n    setSelectedTournament(null);\n    setPairs([]);\n    setMatches([]);\n    setGames([]);\n    setSelectedMatchId(null);\n    setError(\"\");\n    setShowWinnerScreen(false);\n    setShowMatchResults(false);\n    setSelectedMatchResults(null);\n    setShowScoreCorrector(false);\n    setSelectedCorrectorMatch(null);\n    setForceRefresh(0);\n    setShowDebugInfo(false);\n    setEditingGames({});\n    setEditingTieBreaks({});\n    setShowSuccessModal(false);\n    setSuccessModalData({\n      title: \"\",\n      message: \"\",\n      icon: \"✅\",\n    });\n  };\n\n  const openScoreCorrector = async (match: Match) => {\n    try {\n      // Recargar los juegos del partido antes de abrir el editor\n      const matchGames = await getGames(match.id);\n      setGames((prevGames) => {\n        const otherGames = prevGames.filter((g) => g.match_id !== match.id);\n        return [...otherGames, ...matchGames];\n      });\n    } catch (error) {\n      console.error(\"Error al cargar juegos:\", error);\n    }\n    setSelectedCorrectorMatch(match);\n    setShowScoreCorrector(true);\n  };\n\n  const closeScoreCorrector = () => {\n    setShowScoreCorrector(false);\n    setSelectedCorrectorMatch(null);\n  };\n\n  const handleScoreCorrectorUpdate = async () => {\n    if (selectedTournament) {\n      console.log(\n        \"🔄 Actualizando tabla de clasificación después de finalizar partido...\"\n      );\n      \n      // Solo incrementar forceRefresh para forzar actualización de la tabla\n      // NO recargar todos los datos para evitar recálculos automáticos\n      setForceRefresh((prev) => {\n        console.log(`🔄 Incrementando forceRefresh de ${prev} a ${prev + 1}`);\n        return prev + 1;\n      });\n      \n      console.log(\"✅ Tabla de clasificación actualizada automáticamente\");\n    }\n    closeScoreCorrector();\n  };\n\n  return (\n    <div className=\"App\">\n      <div className=\"container\">\n        <h1>🏆 Gestión de Torneos Express y Retas</h1>\n\n        {error && (\n          <div className=\"error\">\n            <h4>❌ Error</h4>\n            <p>{error}</p>\n            <div className=\"error-help\">\n              <h5>💡 Ayuda:</h5>\n              <ol>\n                <li>Verifica tu conexión a internet</li>\n                <li>Intenta recargar la página</li>\n                <li>Si el problema persiste, contacta al administrador</li>\n              </ol>\n            </div>\n          </div>\n        )}\n\n        {loading && (\n          <div className=\"loading\">\n            <p>⏳ Cargando...</p>\n          </div>\n        )}\n\n        <div className=\"main-layout\">\n          <div className=\"left-panel\">\n            <TournamentManager\n              selectedTournament={selectedTournament || undefined}\n              onTournamentSelect={setSelectedTournament}\n              onViewResults={handleViewTournamentResults}\n            />\n          </div>\n\n          <div className=\"right-panel\">\n            {selectedTournament ? (\n              <>\n                <div className=\"tournament-details\">\n                  <div className=\"tournament-header\">\n                    <div className=\"tournament-header-content\">\n                      <div className=\"tournament-title-section\">\n                        <div className=\"tournament-icon\">🏆</div>\n                        <div className=\"tournament-info\">\n                          <h2>{selectedTournament.name}</h2>\n                          {selectedTournament.description && (\n                            <div className=\"tournament-description\">\n                              {selectedTournament.description}\n                            </div>\n                          )}\n                        </div>\n                      </div>\n                      <div className=\"tournament-stats-section\">\n                        <div className=\"stats-row\">\n                          <span className=\"stat-badge\">\n                            {selectedTournament.courts} canchas\n                          </span>\n                          <span className=\"stat-badge\">\n                            {pairs.length} parejas\n                          </span>\n                        </div>\n                        <div className=\"stats-row\">\n                          <span className=\"stat-badge\">\n                            {matches.length} partidos\n                          </span>\n                          <span\n                            className={`status-badge ${\n                              selectedTournament.is_started\n                                ? \"started\"\n                                : \"pending\"\n                            }`}\n                          >\n                            {selectedTournament.is_started\n                              ? \"En Progreso\"\n                              : \"Pendiente\"}\n                          </span>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n\n                  {/* Gestión de Jugadores - MOVIDA AQUÍ */}\n                  <div className=\"player-management-section\">\n                    <div className=\"player-management-header\">\n                      <h3>👥 Gestión de Jugadores</h3>\n                      <button\n                        className=\"toggle-player-manager-btn\"\n                        onClick={() => setShowPlayerManager(!showPlayerManager)}\n                      >\n                        {showPlayerManager\n                          ? \"👥 Ocultar Gestión de Jugadores\"\n                          : \"👥 Mostrar Gestión de Jugadores\"}\n                      </button>\n                    </div>\n\n                    {showPlayerManager && (\n                      <div className=\"player-manager-container\">\n                        <PlayerManager\n                          playersInPairs={pairs.flatMap((pair) => [\n                            pair.player1_id,\n                            pair.player2_id,\n                          ])}\n                          onPlayerSelect={(players) => {\n                            console.log(\"=== SELECCIÓN DE JUGADORES ===\");\n                            console.log(\"Players selected:\", players.length);\n                            players.forEach((player, index) => {\n                              console.log(\n                                `Player ${index + 1}:`,\n                                player.name,\n                                \"(ID:\",\n                                player.id + \")\"\n                              );\n                            });\n\n                            // Validación: Verificar si algún jugador ya está en una pareja\n                            const playersInPairs = players.filter((player) => {\n                              const isInPair = pairs.some(\n                                (pair) =>\n                                  pair.player1_id === player.id ||\n                                  pair.player2_id === player.id\n                              );\n\n                              if (isInPair) {\n                                const existingPair = pairs.find(\n                                  (pair) =>\n                                    pair.player1_id === player.id ||\n                                    pair.player2_id === player.id\n                                );\n                                console.log(\n                                  `🚨 JUGADOR YA EN PAREJA: ${\n                                    player.name\n                                  } está en pareja con ${\n                                    existingPair?.player1?.id === player.id\n                                      ? existingPair?.player2?.name\n                                      : existingPair?.player1?.name\n                                  }`\n                                );\n                              }\n\n                              return isInPair;\n                            });\n\n                            if (playersInPairs.length > 0) {\n                              const playerNames = playersInPairs\n                                .map((p) => p.name)\n                                .join(\", \");\n                              console.log(\n                                \"🚨 ERROR: Jugadores ya están en parejas:\",\n                                playerNames\n                              );\n                              setError(\n                                `Los jugadores ${playerNames} ya están en parejas existentes. Debes eliminar sus parejas actuales antes de poder seleccionarlos nuevamente.`\n                              );\n                              return;\n                            }\n\n                            // Validación: No permitir jugadores con nombres iguales\n                            if (players.length === 2) {\n                              const player1 = players[0];\n                              const player2 = players[1];\n\n                              if (\n                                player1.name.toLowerCase() ===\n                                player2.name.toLowerCase()\n                              ) {\n                                console.log(\n                                  \"🚨 ERROR: Jugadores con nombres iguales detectados\"\n                                );\n                                console.log(\n                                  \"Player 1:\",\n                                  player1.name,\n                                  \"(ID:\",\n                                  player1.id + \")\"\n                                );\n                                console.log(\n                                  \"Player 2:\",\n                                  player2.name,\n                                  \"(ID:\",\n                                  player2.id + \")\"\n                                );\n                                setError(\n                                  \"No puedes seleccionar dos jugadores con el mismo nombre\"\n                                );\n                                return;\n                              }\n\n                              // Validación: Verificar si ya existe una pareja con estos jugadores\n                              const existingPair = pairs.find((pair) => {\n                                const sameIds =\n                                  (pair.player1_id === player1.id &&\n                                    pair.player2_id === player2.id) ||\n                                  (pair.player1_id === player2.id &&\n                                    pair.player2_id === player1.id);\n\n                                const sameNames =\n                                  (pair.player1?.name.toLowerCase() ===\n                                    player1.name.toLowerCase() &&\n                                    pair.player2?.name.toLowerCase() ===\n                                      player2.name.toLowerCase()) ||\n                                  (pair.player1?.name.toLowerCase() ===\n                                    player2.name.toLowerCase() &&\n                                    pair.player2?.name.toLowerCase() ===\n                                      player1.name.toLowerCase());\n\n                                if (sameIds || sameNames) {\n                                  console.log(\n                                    \"🚨 PAREJA DUPLICADA DETECTADA:\",\n                                    player1.name,\n                                    \"+\",\n                                    player2.name\n                                  );\n                                  console.log(\"Existing pair:\", existingPair);\n                                }\n\n                                return sameIds || sameNames;\n                              });\n\n                              if (existingPair) {\n                                console.log(\n                                  \"🚨 ERROR: Pareja ya existe en la base de datos\"\n                                );\n                                setError(\n                                  `La pareja ${player1.name} + ${player2.name} ya existe en el torneo`\n                                );\n                                return;\n                              }\n\n                              // Si llegamos aquí, la pareja es válida\n                              console.log(\n                                \"✅ PAREJA VÁLIDA:\",\n                                player1.name,\n                                \"+\",\n                                player2.name\n                              );\n                              addPair(player1, player2);\n                              setSelectedPlayers([]); // Limpiar selección después de crear la pareja\n                            } else {\n                              setSelectedPlayers(players);\n                            }\n                          }}\n                          selectedPlayers={selectedPlayers}\n                          allowMultipleSelection={true}\n                        />\n                      </div>\n                    )}\n                  </div>\n\n                  {/* Gestión de Parejas - NUEVO COMPONENTE */}\n                  <div className=\"pair-management-section\">\n                    <div className=\"pair-management-header\">\n                      <button\n                        className=\"toggle-pair-manager-btn\"\n                        onClick={() => setShowPairManager(!showPairManager)}\n                      >\n                        {showPairManager\n                          ? \"✏️ Ocultar Gestión de Parejas\"\n                          : \"✏️ Mostrar Gestión de Parejas\"}\n                      </button>\n                    </div>\n\n                    {showPairManager && (\n                      <div className=\"pair-manager-container\">\n                        <PairManager\n                          pairs={pairs}\n                          onPairUpdate={updatePairPlayers}\n                          onPairDelete={deletePair}\n                        />\n                      </div>\n                    )}\n                  </div>\n\n                  {!selectedTournament.is_started ? (\n                    <div className=\"start-tournament-section\">\n                      <h3>🚀 Iniciar Torneo</h3>\n                      <div className=\"tournament-info\">\n                        <p>Tienes {pairs.length} parejas registradas</p>\n                        <p>\n                          Se crearán {(pairs.length * (pairs.length - 1)) / 2}{\" \"}\n                          partidos (round-robin completo - todas las parejas se\n                          enfrentan)\n                        </p>\n                        <p>\n                          Estado del torneo:{\" \"}\n                          {selectedTournament.is_started\n                            ? \"Iniciado\"\n                            : \"Pendiente\"}\n                        </p>\n                      </div>\n                      <button\n                        className=\"start-button\"\n                        onClick={startTournament}\n                        disabled={loading || pairs.length < 2}\n                      >\n                        {loading\n                          ? \"⏳ Iniciando...\"\n                          : selectedTournament.is_started\n                          ? \"🏆 Torneo Ya Iniciado\"\n                          : pairs.length < 2\n                          ? \"❌ Necesitas al menos 2 parejas\"\n                          : \"🚀 ¡Iniciar Torneo!\"}\n                      </button>\n                    </div>\n                  ) : (\n                    <div className=\"tournament-status-section\">\n                      <h3>🏆 Torneo en Progreso</h3>\n                      <div className=\"tournament-info\">\n                        <p>El torneo ya está iniciado y en progreso</p>\n                        <p>Tienes {pairs.length} parejas registradas</p>\n                        <p>Estado del torneo: Iniciado</p>\n                      </div>\n                      <button\n                        className=\"reset-button\"\n                        onClick={async () => {\n                          if (\n                            window.confirm(\n                              \"¿Estás seguro de que quieres resetear el torneo? Esto eliminará todos los partidos existentes.\"\n                            )\n                          ) {\n                            try {\n                              setLoading(true);\n                              await deleteMatchesByTournament(\n                                selectedTournament.id\n                              );\n                              await updateTournament(selectedTournament.id, {\n                                is_started: false,\n                              });\n                              setSelectedTournament((prev) =>\n                                prev ? { ...prev, is_started: false } : null\n                              );\n                              setMatches([]);\n                              await loadTournamentData();\n                              setSuccessModalData({\n                                title: \"¡Torneo Reseteado!\",\n                                message:\n                                  \"El torneo ha sido reseteado y está listo para iniciar nuevamente.\",\n                                icon: \"🔄\",\n                              });\n                              setShowSuccessModal(true);\n                            } catch (error) {\n                              setError(\n                                \"Error al resetear el torneo: \" +\n                                  (error as Error).message\n                              );\n                            } finally {\n                              setLoading(false);\n                            }\n                          }\n                        }}\n                        disabled={loading}\n                      >\n                        {loading ? \"⏳ Reseteando...\" : \"🔄 Resetear Torneo\"}\n                      </button>\n                    </div>\n                  )}\n\n                  {/* Debug info - COLAPSIBLE */}\n                  {selectedTournament && (\n                    <div className=\"debug-section\">\n                      <button\n                        className=\"debug-toggle-btn\"\n                        onClick={() => setShowDebugInfo(!showDebugInfo)}\n                      >\n                        {showDebugInfo ? \"🔽\" : \"🔼\"} Debug Info\n                      </button>\n\n                      {showDebugInfo && (\n                        <div className=\"debug-info\">\n                          <div className=\"debug-header\">\n                            <h4>🔧 Información de Debug</h4>\n                            <div className=\"debug-stats\">\n                              <span>\n                                Estado:{\" \"}\n                                {selectedTournament.is_started\n                                  ? \"✅ Iniciado\"\n                                  : \"⏳ Pendiente\"}\n                              </span>\n                              <span>Parejas: {pairs.length}</span>\n                              <span>Partidos: {matches.length}</span>\n                            </div>\n                          </div>\n\n                          <div className=\"debug-buttons\">\n                            <button\n                              onClick={async () => {\n                                console.log(\"=== PROBAR CONEXIÓN ===\");\n                                const isConnected = await testConnection();\n                                if (isConnected) {\n                                  setError(\"\");\n                                } else {\n                                  setError(\n                                    \"❌ Error de conexión a Supabase. Verifica tu configuración.\"\n                                  );\n                                }\n                              }}\n                              className=\"debug-btn connection-btn\"\n                            >\n                              🔌 Probar Conexión\n                            </button>\n\n                            <button\n                              onClick={() => {\n                                console.log(\n                                  \"=== FORZANDO RECARGA DE DATOS ===\"\n                                );\n                                loadTournamentData();\n                              }}\n                              className=\"debug-btn reload-btn\"\n                            >\n                              🔄 Recargar Datos\n                            </button>\n\n                            <button\n                              onClick={async () => {\n                                console.log(\n                                  \"=== VERIFICANDO ESTADO DEL TORNEO ===\"\n                                );\n                                try {\n                                  console.log(\n                                    \"Estado actual del torneo:\",\n                                    selectedTournament\n                                  );\n                                  console.log(\n                                    \"Parejas en estado:\",\n                                    pairs.length\n                                  );\n                                  console.log(\n                                    \"Partidos en estado:\",\n                                    matches.length\n                                  );\n\n                                  const dbPairs = await getPairs(\n                                    selectedTournament.id\n                                  );\n                                  const dbMatches = await getMatches(\n                                    selectedTournament.id\n                                  );\n\n                                  console.log(\"Parejas en BD:\", dbPairs.length);\n                                  console.log(\n                                    \"Partidos en BD:\",\n                                    dbMatches.length\n                                  );\n\n                                  alert(\n                                    `Estado del torneo:\\n\\nParejas: ${\n                                      pairs.length\n                                    } (estado) / ${\n                                      dbPairs.length\n                                    } (BD)\\nPartidos: ${\n                                      matches.length\n                                    } (estado) / ${\n                                      dbMatches.length\n                                    } (BD)\\n\\nTorneo iniciado: ${\n                                      selectedTournament.is_started\n                                        ? \"Sí\"\n                                        : \"No\"\n                                    }`\n                                  );\n                                } catch (error) {\n                                  console.error(\n                                    \"Error verificando estado:\",\n                                    error\n                                  );\n                                }\n                              }}\n                              className=\"debug-btn status-btn\"\n                            >\n                              🔍 Verificar Estado\n                            </button>\n                          </div>\n                        </div>\n                      )}\n                    </div>\n                  )}\n\n                  {/* Mostrar parejas creadas */}\n                  {pairs.length > 0 && (\n                    <div className=\"pairs-display\">\n                      <h3>👥 Parejas Registradas ({pairs.length})</h3>\n                      <div className=\"pairs-grid\">\n                        {pairs.map((pair, index) => (\n                          <div key={pair.id} className=\"pair-display-card\">\n                            <div className=\"pair-number\">#{index + 1}</div>\n                            <div className=\"pair-names\">\n                              {pair.player1?.name} y {pair.player2?.name}\n                            </div>\n                            <div className=\"pair-stats\">\n                              <span>Sets: {pair.sets_won}</span>\n                              <span>Partidos: {pair.matches_played}</span>\n                              <span>Puntos: {pair.points}</span>\n                            </div>\n                            <button\n                              onClick={() => {\n                                if (\n                                  window.confirm(\n                                    `¿Estás seguro de que quieres eliminar la pareja \"${pair.player1?.name} y ${pair.player2?.name}\"?`\n                                  )\n                                ) {\n                                  deletePair(pair.id);\n                                }\n                              }}\n                              className=\"delete-pair-btn\"\n                              title=\"Eliminar pareja\"\n                            >\n                              🗑️\n                            </button>\n                          </div>\n                        ))}\n                      </div>\n                    </div>\n                  )}\n\n                  {selectedTournament.is_started && (\n                    <div className=\"tournament-content\">\n                      {/* Lista de partidos */}\n                      <div className=\"matches-section\">\n                        <h3>🎾 Partidos ({matches.length} total)</h3>\n                        {matches.length === 0 ? (\n                          <div className=\"no-matches\">\n                            <p>📝 No hay partidos programados aún</p>\n                            <p>\n                              Inicia el torneo para generar los partidos\n                              automáticamente\n                            </p>\n                          </div>\n                        ) : (\n                          Object.entries(matchesByRound).map(\n                            ([round, roundMatches]) => (\n                              <div key={round} className=\"round-section\">\n                                <h4>\n                                  🔄 Ronda {round} ({roundMatches.length}{\" \"}\n                                  partidos)\n                                </h4>\n                                <div className=\"matches-container\">\n                                  {roundMatches.map((match) => (\n                                    <div\n                                      key={match.id}\n                                      className={`match-card ${\n                                        selectedMatchId === match.id\n                                          ? \"selected\"\n                                          : \"\"\n                                      }`}\n                                      onClick={() =>\n                                        handleMatchSelect(match.id)\n                                      }\n                                    >\n                                      <div className=\"match-header\">\n                                        <h5>\n                                          {match.pair1?.player1?.name} y{\" \"}\n                                          {match.pair1?.player2?.name} vs{\" \"}\n                                          {match.pair2?.player1?.name} y{\" \"}\n                                          {match.pair2?.player2?.name}\n                                        </h5>\n                                        <div className=\"match-info\">\n                                          <span className=\"court-badge\">\n                                            🏟️ Cancha {match.court}\n                                          </span>\n                                          <span className=\"round-badge\">\n                                            🔄 Ronda {match.round}\n                                          </span>\n                                        </div>\n                                      </div>\n                                      <div className=\"match-details\">\n                                        <p className=\"match-pairs\">\n                                          <strong>Pareja 1:</strong>{\" \"}\n                                          {match.pair1?.player1?.name} y{\" \"}\n                                          {match.pair1?.player2?.name}\n                                        </p>\n                                        <p className=\"match-pairs\">\n                                          <strong>Pareja 2:</strong>{\" \"}\n                                          {match.pair2?.player1?.name} y{\" \"}\n                                          {match.pair2?.player2?.name}\n                                        </p>\n                                      </div>\n                                      {(() => {\n                                        // Calcular el ganador en tiempo real\n                                        const matchGames = games.filter(\n                                          (g) => g.match_id === match.id\n                                        );\n                                        if (matchGames.length > 0) {\n                                          const stats =\n                                            MatchResultCalculator.calculateMatchStatistics(\n                                              match,\n                                              matchGames\n                                            );\n                                          const isTie = stats.isTie;\n\n                                          if (isTie) {\n                                            return (\n                                              <div className=\"winner\">\n                                                <span className=\"winner-icon\">\n                                                  🤝\n                                                </span>\n                                                Empate ({stats.pair1TotalPoints}\n                                                -{stats.pair2TotalPoints}{\" \"}\n                                                puntos)\n                                              </div>\n                                            );\n                                          } else {\n                                            const winnerId =\n                                              stats.pair1TotalPoints >\n                                              stats.pair2TotalPoints\n                                                ? match.pair1_id\n                                                : match.pair2_id;\n\n                                            return (\n                                              <div className=\"winner\">\n                                                <span className=\"winner-icon\">\n                                                  🏆\n                                                </span>\n                                                Ganador:{\" \"}\n                                                {winnerId === match.pair1_id\n                                                  ? `${match.pair1?.player1?.name} y ${match.pair1?.player2?.name}`\n                                                  : `${match.pair2?.player1?.name} y ${match.pair2?.player2?.name}`}\n                                              </div>\n                                            );\n                                          }\n                                        } else {\n                                          // Fallback a los datos de la base de datos\n                                          if (match.winner_id) {\n                                            return (\n                                              <div className=\"winner\">\n                                                <span className=\"winner-icon\">\n                                                  🏆\n                                                </span>\n                                                Ganador:{\" \"}\n                                                {match.winner_id ===\n                                                match.pair1_id\n                                                  ? `${match.pair1?.player1?.name} y ${match.pair1?.player2?.name}`\n                                                  : `${match.pair2?.player1?.name} y ${match.pair2?.player2?.name}`}\n                                              </div>\n                                            );\n                                          } else if (match.is_finished) {\n                                            return (\n                                              <div className=\"winner\">\n                                                <span className=\"winner-icon\">\n                                                  🤝\n                                                </span>\n                                                Empate\n                                              </div>\n                                            );\n                                          }\n                                        }\n                                        return null;\n                                      })()}\n                                      <div className=\"match-status\">\n                                        {match.is_finished ? (\n                                          <span className=\"status-finished\">\n                                            ✔ Finalizado\n                                          </span>\n                                        ) : (\n                                          <span className=\"status-pending\">\n                                            ⏳ Pendiente\n                                          </span>\n                                        )}\n                                      </div>\n                                      <div className=\"match-actions\">\n                                        <button\n                                          onClick={(e) => {\n                                            e.stopPropagation();\n                                            showMatchResultsHandler(match);\n                                          }}\n                                          className=\"view-results-btn\"\n                                        >\n                                          📊 Ver Resultados\n                                        </button>\n                                        <button\n                                          onClick={(e) => {\n                                            e.stopPropagation();\n                                            openScoreCorrector(match);\n                                          }}\n                                          className=\"correct-result-btn\"\n                                        >\n                                          ✏️ Marcador\n                                        </button>\n                                      </div>\n                                    </div>\n                                  ))}\n                                </div>\n                              </div>\n                            )\n                          )\n                        )}\n                      </div>\n\n                      {/* Tabla de clasificación */}\n                      <StandingsTable\n                        tournamentId={selectedTournament.id}\n                        forceRefresh={forceRefresh}\n                      />\n\n                      {/* Botón para mostrar ganador */}\n                      {isTournamentFinished && winner && (\n                        <div className=\"winner-button-container\">\n                          <button\n                            className=\"show-winner-button\"\n                            onClick={showWinnerScreenHandler}\n                          >\n                            🏆 ¡Ver Ganador!\n                          </button>\n                        </div>\n                      )}\n\n                      {/* Botón para volver al inicio */}\n                      <div className=\"back-home-button-container\">\n                        <button\n                          className=\"back-home-button\"\n                          onClick={handleBackToHome}\n                        >\n                          🏠 Volver al Inicio\n                        </button>\n                      </div>\n                    </div>\n                  )}\n                </div>\n              </>\n            ) : (\n              <div className=\"no-tournament-selected\">\n                <h2>🏆 Bienvenido al Gestor de Torneos</h2>\n                <p>\n                  Selecciona un torneo del panel izquierdo para comenzar a\n                  gestionar partidos y resultados.\n                </p>\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* Pantalla de ganador */}\n        {showWinnerScreen && winner && (\n          <div className=\"winner-screen\">\n            <div className=\"winner-content\">\n              <div className=\"winner-celebration\">\n                <h1 className=\"winner-title\">🏆 ¡FELICIDADES! 🏆</h1>\n                <div className=\"winner-names\">\n                  {winner.player1?.name} y {winner.player2?.name}\n                </div>\n                <div className=\"winner-subtitle\">\n                  ¡Son los campeones del torneo!\n                </div>\n                <div className=\"winner-stats\">\n                  <div className=\"stat-item\">\n                    <span className=\"stat-number\">\n                      {tournamentWinner\n                        ? tournamentWinner.totalSets\n                        : winner.sets_won}\n                    </span>\n                    <span className=\"stat-label\">Sets Ganados</span>\n                  </div>\n                  <div className=\"stat-item\">\n                    <span className=\"stat-number\">\n                      {tournamentWinner\n                        ? tournamentWinner.matchesPlayed\n                        : winner.games_won}\n                    </span>\n                    <span className=\"stat-label\">Partidos Ganados</span>\n                  </div>\n                  <div className=\"stat-item\">\n                    <span className=\"stat-number\">\n                      {tournamentWinner\n                        ? tournamentWinner.totalPoints\n                        : winner.points}\n                    </span>\n                    <span className=\"stat-label\">Puntos Totales</span>\n                  </div>\n                </div>\n                <button\n                  className=\"back-button\"\n                  onClick={hideWinnerScreenHandler}\n                >\n                  🏠 Volver al Torneo\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Modal de resultados de partido */}\n        {showMatchResults && selectedMatchResults && (\n          <div className=\"match-results-modal\">\n            <div className=\"match-results-content\">\n              <div className=\"match-results-header\">\n                <h3>📊 Resultados del Partido</h3>\n                <button onClick={hideMatchResultsHandler} className=\"close-btn\">\n                  ✕\n                </button>\n              </div>\n\n              <div className=\"match-results-info\">\n                <h4>\n                  Partido {selectedMatchResults.court} - Ronda{\" \"}\n                  {selectedMatchResults.round}\n                </h4>\n                <div className=\"pairs-info\">\n                  <div className=\"pair-info\">\n                    <strong>Pareja 1:</strong>{\" \"}\n                    {selectedMatchResults.pair1?.player1?.name} y{\" \"}\n                    {selectedMatchResults.pair1?.player2?.name}\n                  </div>\n                  <div className=\"pair-info\">\n                    <strong>Pareja 2:</strong>{\" \"}\n                    {selectedMatchResults.pair2?.player1?.name} y{\" \"}\n                    {selectedMatchResults.pair2?.player2?.name}\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"match-results-details\">\n                <div className=\"result-summary\">\n                  <div className=\"result-item\">\n                    <span className=\"result-label\">Juegos Ganados:</span>\n                    <span className=\"result-value\">\n                      {calculatedMatchResults?.pair1?.games_won ||\n                        selectedMatchResults.pair1?.games_won ||\n                        0}{\" \"}\n                      -{\" \"}\n                      {calculatedMatchResults?.pair2?.games_won ||\n                        selectedMatchResults.pair2?.games_won ||\n                        0}\n                    </span>\n                  </div>\n                  <div className=\"result-item\">\n                    <span className=\"result-label\">Sets Ganados:</span>\n                    <span className=\"result-value\">\n                      {calculatedMatchResults?.pair1?.sets_won ||\n                        selectedMatchResults.pair1?.sets_won ||\n                        0}{\" \"}\n                      -{\" \"}\n                      {calculatedMatchResults?.pair2?.sets_won ||\n                        selectedMatchResults.pair2?.sets_won ||\n                        0}\n                    </span>\n                  </div>\n                  <div className=\"result-item\">\n                    <span className=\"result-label\">Puntos Totales:</span>\n                    <span className=\"result-value\">\n                      {calculatedMatchResults?.pair1?.points ||\n                        selectedMatchResults.pair1?.points ||\n                        0}{\" \"}\n                      -{\" \"}\n                      {calculatedMatchResults?.pair2?.points ||\n                        selectedMatchResults.pair2?.points ||\n                        0}\n                    </span>\n                  </div>\n                </div>\n\n                <div className=\"match-winner\">\n                  {(() => {\n                    // Verificar si es empate basado en los puntos totales\n                    const pair1Points =\n                      calculatedMatchResults?.pair1?.points ||\n                      selectedMatchResults.pair1?.points ||\n                      0;\n                    const pair2Points =\n                      calculatedMatchResults?.pair2?.points ||\n                      selectedMatchResults.pair2?.points ||\n                      0;\n                    const isTie = pair1Points === pair2Points;\n\n                    if (isTie) {\n                      return (\n                        <div className=\"tie-display\">\n                          <span className=\"tie-icon\">🤝</span>\n                          <span className=\"tie-text\">\n                            Empate ({pair1Points}-{pair2Points} puntos totales)\n                          </span>\n                        </div>\n                      );\n                    } else {\n                      const winnerId =\n                        calculatedMatchResults?.winner_id ||\n                        selectedMatchResults.winner_id;\n                      if (winnerId) {\n                        return (\n                          <div className=\"winner-display\">\n                            <span className=\"winner-icon\">🏆</span>\n                            <span className=\"winner-text\">\n                              Ganador:{\" \"}\n                              {winnerId === selectedMatchResults.pair1?.id\n                                ? `${selectedMatchResults.pair1?.player1?.name} y ${selectedMatchResults.pair1?.player2?.name}`\n                                : `${selectedMatchResults.pair2?.player1?.name} y ${selectedMatchResults.pair2?.player2?.name}`}\n                            </span>\n                          </div>\n                        );\n                      } else {\n                        return (\n                          <div className=\"tie-display\">\n                            <span className=\"tie-icon\">🤝</span>\n                            <span className=\"tie-text\">Empate</span>\n                          </div>\n                        );\n                      }\n                    }\n                  })()}\n                </div>\n              </div>\n\n              <div className=\"match-results-actions\">\n                <button\n                  onClick={hideMatchResultsHandler}\n                  className=\"close-results-btn\"\n                >\n                  Cerrar\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Modal de corrección de marcador */}\n        {showScoreCorrector && selectedCorrectorMatch && (\n          <MatchScoreEditor\n            match={selectedCorrectorMatch}\n            onClose={closeScoreCorrector}\n            onUpdate={handleScoreCorrectorUpdate}\n          />\n        )}\n\n        {/* Modal de éxito */}\n        {showSuccessModal && (\n          <SuccessModal\n            title={successModalData.title}\n            message={successModalData.message}\n            icon={successModalData.icon}\n            isOpen={showSuccessModal}\n            onClose={() => setShowSuccessModal(false)}\n          />\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}