{"ast":null,"code":"import React from\"react\";import{FlexibleMatchFinisher}from\"./FlexibleMatchFinisher\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const MatchStatusDisplay=_ref=>{var _pair1$player,_pair1$player2,_pair2$player,_pair2$player2;let{match,games,pairs}=_ref;const calculateCurrentStatus=()=>{// Usar la nueva l√≥gica flexible\nreturn FlexibleMatchFinisher.calculateMatchStatus(match,games,pairs);};const status=calculateCurrentStatus();const pair1=pairs.find(p=>p.id===match.pair1_id);const pair2=pairs.find(p=>p.id===match.pair2_id);const pair1Name=pair1?`${(_pair1$player=pair1.player1)===null||_pair1$player===void 0?void 0:_pair1$player.name} y ${(_pair1$player2=pair1.player2)===null||_pair1$player2===void 0?void 0:_pair1$player2.name}`:\"Pareja 1\";const pair2Name=pair2?`${(_pair2$player=pair2.player1)===null||_pair2$player===void 0?void 0:_pair2$player.name} y ${(_pair2$player2=pair2.player2)===null||_pair2$player2===void 0?void 0:_pair2$player2.name}`:\"Pareja 2\";return/*#__PURE__*/_jsxs(\"div\",{className:\"match-status-display\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"\\uD83D\\uDCCA Estado del Partido\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"status-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"status-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Juegos registrados:\"}),\" \",games.length]}),/*#__PURE__*/_jsxs(\"div\",{className:\"status-item\",children:[/*#__PURE__*/_jsxs(\"strong\",{children:[\"Pareja 1 (\",pair1Name,\"):\"]}),\" \",status.pair1Games,\" juegos\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"status-item\",children:[/*#__PURE__*/_jsxs(\"strong\",{children:[\"Pareja 2 (\",pair2Name,\"):\"]}),\" \",status.pair2Games,\" juegos\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"status-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Resultado:\"}),\" \",status.isTie?\"ü§ù Empate\":`üèÜ Ganador: ${status.winnerId===match.pair1_id?pair1Name:pair2Name}`]}),/*#__PURE__*/_jsxs(\"div\",{className:\"status-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Puede finalizar:\"}),\" \",/*#__PURE__*/_jsx(\"span\",{className:status.canFinish?\"status-ok\":\"status-error\",children:status.canFinish?\"‚úÖ S√≠\":\"‚ùå No\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"status-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Raz\\xF3n:\"}),\" \",status.reason]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"games-detail\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Detalle de Juegos:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"tie-explanation\",children:[/*#__PURE__*/_jsx(\"h6\",{children:\"\\uD83D\\uDCCB Informaci\\xF3n sobre Empates:\"}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Empates en Juegos:\"}),\" Si un juego termina empatado (ej: 3-3), ambas parejas ganan 1 juego\"]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Empates en Tie-Breaks:\"}),\" Si un tie-break termina empatado, ambas parejas ganan 1 juego\"]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Empates en Partidos:\"}),\" Si el total est\\xE1 empatado, ambas parejas ganan 1 set\"]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Sin Tiempo:\"}),\" Se pueden registrar empates cuando no hay tiempo para terminar\"]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Finalizaci\\xF3n Libre:\"}),\" Se puede finalizar el partido sin importar si llegaron a 6 puntos\"]})]})]}),games.map((game,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"game-detail\",children:[/*#__PURE__*/_jsxs(\"strong\",{children:[\"Juego \",index+1,\":\"]}),\" \",game.is_tie_break?/*#__PURE__*/_jsxs(_Fragment,{children:[\"Tie-break: \",game.tie_break_pair1_points||0,\" -\",\" \",game.tie_break_pair2_points||0,game.tie_break_pair1_points===game.tie_break_pair2_points&&game.tie_break_pair1_points>0?\" (Empatado - 1 juego cada uno)\":game.tie_break_pair1_points>game.tie_break_pair2_points?\" (Gana Pareja 1)\":game.tie_break_pair2_points>game.tie_break_pair1_points?\" (Gana Pareja 2)\":\" (En progreso)\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[game.pair1_games||0,\" - \",game.pair2_games||0,game.pair1_games===game.pair2_games&&game.pair1_games>0?\" (Empatado - 1 juego cada uno)\":game.pair1_games>game.pair2_games?\" (Gana Pareja 1)\":game.pair2_games>game.pair1_games?\" (Gana Pareja 2)\":\" (En progreso)\"]})]},game.id))]})]});};export default MatchStatusDisplay;","map":{"version":3,"names":["React","FlexibleMatchFinisher","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","MatchStatusDisplay","_ref","_pair1$player","_pair1$player2","_pair2$player","_pair2$player2","match","games","pairs","calculateCurrentStatus","calculateMatchStatus","status","pair1","find","p","id","pair1_id","pair2","pair2_id","pair1Name","player1","name","player2","pair2Name","className","children","length","pair1Games","pair2Games","isTie","winnerId","canFinish","reason","map","game","index","is_tie_break","tie_break_pair1_points","tie_break_pair2_points","pair1_games","pair2_games"],"sources":["/Users/nedev/padel-tournament-app/src/components/MatchStatusDisplay.tsx"],"sourcesContent":["import React from \"react\";\nimport { Game, Match, Pair } from \"../lib/database\";\nimport { MatchResultCalculator } from \"./MatchResultCalculator\";\nimport { FlexibleMatchFinisher } from \"./FlexibleMatchFinisher\";\n\ninterface MatchStatusDisplayProps {\n  match: Match;\n  games: Game[];\n  pairs: Pair[];\n}\n\nconst MatchStatusDisplay: React.FC<MatchStatusDisplayProps> = ({\n  match,\n  games,\n  pairs,\n}) => {\n  const calculateCurrentStatus = () => {\n    // Usar la nueva l√≥gica flexible\n    return FlexibleMatchFinisher.calculateMatchStatus(match, games, pairs);\n  };\n\n  const status = calculateCurrentStatus();\n  const pair1 = pairs.find((p) => p.id === match.pair1_id);\n  const pair2 = pairs.find((p) => p.id === match.pair2_id);\n\n  const pair1Name = pair1\n    ? `${pair1.player1?.name} y ${pair1.player2?.name}`\n    : \"Pareja 1\";\n  const pair2Name = pair2\n    ? `${pair2.player1?.name} y ${pair2.player2?.name}`\n    : \"Pareja 2\";\n\n  return (\n    <div className=\"match-status-display\">\n      <h4>üìä Estado del Partido</h4>\n\n      <div className=\"status-grid\">\n        <div className=\"status-item\">\n          <strong>Juegos registrados:</strong> {games.length}\n        </div>\n\n        <div className=\"status-item\">\n          <strong>Pareja 1 ({pair1Name}):</strong> {status.pair1Games} juegos\n        </div>\n\n        <div className=\"status-item\">\n          <strong>Pareja 2 ({pair2Name}):</strong> {status.pair2Games} juegos\n        </div>\n\n        <div className=\"status-item\">\n          <strong>Resultado:</strong>{\" \"}\n          {status.isTie\n            ? \"ü§ù Empate\"\n            : `üèÜ Ganador: ${\n                status.winnerId === match.pair1_id ? pair1Name : pair2Name\n              }`}\n        </div>\n\n        <div className=\"status-item\">\n          <strong>Puede finalizar:</strong>{\" \"}\n          <span className={status.canFinish ? \"status-ok\" : \"status-error\"}>\n            {status.canFinish ? \"‚úÖ S√≠\" : \"‚ùå No\"}\n          </span>\n        </div>\n\n        <div className=\"status-item\">\n          <strong>Raz√≥n:</strong> {status.reason}\n        </div>\n      </div>\n\n      <div className=\"games-detail\">\n        <h5>Detalle de Juegos:</h5>\n\n        <div className=\"tie-explanation\">\n          <h6>üìã Informaci√≥n sobre Empates:</h6>\n          <ul>\n            <li>\n              <strong>Empates en Juegos:</strong> Si un juego termina empatado\n              (ej: 3-3), ambas parejas ganan 1 juego\n            </li>\n            <li>\n              <strong>Empates en Tie-Breaks:</strong> Si un tie-break termina\n              empatado, ambas parejas ganan 1 juego\n            </li>\n            <li>\n              <strong>Empates en Partidos:</strong> Si el total est√° empatado,\n              ambas parejas ganan 1 set\n            </li>\n            <li>\n              <strong>Sin Tiempo:</strong> Se pueden registrar empates cuando no\n              hay tiempo para terminar\n            </li>\n            <li>\n              <strong>Finalizaci√≥n Libre:</strong> Se puede finalizar el partido\n              sin importar si llegaron a 6 puntos\n            </li>\n          </ul>\n        </div>\n\n        {games.map((game, index) => (\n          <div key={game.id} className=\"game-detail\">\n            <strong>Juego {index + 1}:</strong>{\" \"}\n            {game.is_tie_break ? (\n              <>\n                Tie-break: {game.tie_break_pair1_points || 0} -{\" \"}\n                {game.tie_break_pair2_points || 0}\n                {game.tie_break_pair1_points === game.tie_break_pair2_points &&\n                game.tie_break_pair1_points > 0\n                  ? \" (Empatado - 1 juego cada uno)\"\n                  : game.tie_break_pair1_points > game.tie_break_pair2_points\n                  ? \" (Gana Pareja 1)\"\n                  : game.tie_break_pair2_points > game.tie_break_pair1_points\n                  ? \" (Gana Pareja 2)\"\n                  : \" (En progreso)\"}\n              </>\n            ) : (\n              <>\n                {game.pair1_games || 0} - {game.pair2_games || 0}\n                {game.pair1_games === game.pair2_games && game.pair1_games > 0\n                  ? \" (Empatado - 1 juego cada uno)\"\n                  : game.pair1_games > game.pair2_games\n                  ? \" (Gana Pareja 1)\"\n                  : game.pair2_games > game.pair1_games\n                  ? \" (Gana Pareja 2)\"\n                  : \" (En progreso)\"}\n              </>\n            )}\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default MatchStatusDisplay;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}