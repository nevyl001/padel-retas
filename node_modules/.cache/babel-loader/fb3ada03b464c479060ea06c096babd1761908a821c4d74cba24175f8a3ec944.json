{"ast":null,"code":"var _jsxFileName = \"/Users/nedev/padel-tournament-app/src/components/ScoreCorrector.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { createGame, getGames, updateGame, deleteGame } from \"../lib/database\";\nimport { MatchResultCalculator } from \"./MatchResultCalculator\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ScoreCorrector = ({\n  match,\n  onClose,\n  onUpdate\n}) => {\n  _s();\n  const [games, setGames] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n  const [editingGames, setEditingGames] = useState({});\n  const [editingTieBreaks, setEditingTieBreaks] = useState({});\n  useEffect(() => {\n    loadGames();\n  }, [match.id]);\n  const loadGames = async () => {\n    try {\n      setLoading(true);\n      const gamesData = await getGames(match.id);\n      setGames(gamesData);\n    } catch (err) {\n      setError(\"Error al cargar los juegos\");\n      console.error(err);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const addGame = async () => {\n    try {\n      setError(\"\");\n      setLoading(true);\n      const newGameNumber = games.length + 1;\n      const newGame = await createGame(match.id, newGameNumber);\n      setGames([...games, newGame]);\n      console.log(\"✅ Juego agregado:\", newGame);\n    } catch (err) {\n      setError(\"Error al agregar el juego\");\n      console.error(err);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const updateGameScore = async (gameId, pair1Games, pair2Games) => {\n    try {\n      setError(\"\");\n      await updateGame(gameId, {\n        pair1_games: pair1Games,\n        pair2_games: pair2Games\n      });\n      setGames(prevGames => prevGames.map(g => g.id === gameId ? {\n        ...g,\n        pair1_games: pair1Games,\n        pair2_games: pair2Games\n      } : g));\n    } catch (err) {\n      setError(\"Error al actualizar el marcador\");\n      console.error(err);\n    }\n  };\n  const updateTieBreakScore = async (gameId, pair1Points, pair2Points) => {\n    try {\n      setError(\"\");\n      await updateGame(gameId, {\n        tie_break_pair1_points: pair1Points,\n        tie_break_pair2_points: pair2Points\n      });\n      setGames(prevGames => prevGames.map(g => g.id === gameId ? {\n        ...g,\n        tie_break_pair1_points: pair1Points,\n        tie_break_pair2_points: pair2Points\n      } : g));\n    } catch (err) {\n      setError(\"Error al actualizar el tie break\");\n      console.error(err);\n    }\n  };\n  const removeGame = async gameId => {\n    try {\n      setError(\"\");\n      await deleteGame(gameId);\n      setGames(games.filter(g => g.id !== gameId));\n    } catch (err) {\n      setError(\"Error al eliminar el juego\");\n      console.error(err);\n    }\n  };\n  const toggleTieBreak = async gameId => {\n    try {\n      setError(\"\");\n      const game = games.find(g => g.id === gameId);\n      if (!game) return;\n      const newIsTieBreak = !game.is_tie_break;\n      await updateGame(gameId, {\n        is_tie_break: newIsTieBreak\n      });\n      setGames(prevGames => prevGames.map(g => g.id === gameId ? {\n        ...g,\n        is_tie_break: newIsTieBreak\n      } : g));\n    } catch (err) {\n      setError(\"Error al cambiar el tipo de juego\");\n      console.error(err);\n    }\n  };\n  const finishMatch = async () => {\n    try {\n      setError(\"\");\n      setLoading(true);\n\n      // Obtener las parejas del torneo\n      const pairs = await import(\"../lib/database\").then(m => m.getPairs(match.tournament_id));\n      const result = await MatchResultCalculator.updateMatchStatistics(match, games, pairs);\n\n      // Importar updateMatch\n      const {\n        updateMatch\n      } = await import(\"../lib/database\");\n\n      // Actualizar el partido como finalizado\n      await updateMatch(match.id, {\n        winner_id: result.winnerId,\n        is_finished: true\n      });\n      if (result.success) {\n        alert(result.message);\n        onUpdate();\n        onClose();\n      } else {\n        setError(result.message);\n      }\n    } catch (err) {\n      setError(\"Error al finalizar el partido\");\n      console.error(err);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleGameScoreChange = (gameId, pair, value) => {\n    setEditingGames(prev => ({\n      ...prev,\n      [gameId]: {\n        ...prev[gameId],\n        [pair]: value\n      }\n    }));\n  };\n  const handleGameScoreBlur = async gameId => {\n    const editingGame = editingGames[gameId];\n    if (editingGame) {\n      await updateGameScore(gameId, editingGame.pair1, editingGame.pair2);\n      setEditingGames(prev => {\n        const newState = {\n          ...prev\n        };\n        delete newState[gameId];\n        return newState;\n      });\n    }\n  };\n  const handleTieBreakScoreChange = (gameId, pair, value) => {\n    setEditingTieBreaks(prev => ({\n      ...prev,\n      [gameId]: {\n        ...prev[gameId],\n        [pair]: value\n      }\n    }));\n  };\n  const handleTieBreakScoreBlur = async gameId => {\n    const editingTieBreak = editingTieBreaks[gameId];\n    if (editingTieBreak) {\n      await updateTieBreakScore(gameId, editingTieBreak.pair1, editingTieBreak.pair2);\n      setEditingTieBreaks(prev => {\n        const newState = {\n          ...prev\n        };\n        delete newState[gameId];\n        return newState;\n      });\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"score-corrector-overlay\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"score-corrector-modal\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loading\",\n          children: \"Cargando...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"score-corrector-overlay\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"score-corrector-modal\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"score-corrector-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\uD83C\\uDFBE Editor de Marcador\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: \"close-btn\",\n          children: \"\\u2715\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"match-info\",\n        children: /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: [\"Partido \", match.court, \" - Ronda \", match.round]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rules-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n          children: \"\\uD83D\\uDCCB Reglas del Juego:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Juegos:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 273,\n              columnNumber: 15\n            }, this), \" La pareja que haga m\\xE1s puntos gana el juego\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Sets:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 277,\n              columnNumber: 15\n            }, this), \" La pareja que llegue a 6 puntos gana 1 set\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Empates:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 280,\n              columnNumber: 15\n            }, this), \" Si ambas parejas tienen los mismos puntos, es empate\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 279,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Tie-Breaks:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 284,\n              columnNumber: 15\n            }, this), \" Se pueden activar para desempates especiales\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error-message\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"games-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"games-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            children: \"\\uD83C\\uDFBE Juegos\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 294,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: addGame,\n            disabled: loading,\n            className: \"add-game-btn\",\n            children: \"\\u2795 Agregar Juego\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 293,\n          columnNumber: 11\n        }, this), games.map(game => {\n          var _editingGames$game$id, _editingGames$game$id2, _editingTieBreaks$gam, _editingTieBreaks$gam2;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"game-card\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"game-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                children: [\"Juego \", game.game_number]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 307,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"game-actions\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => toggleTieBreak(game.id),\n                  disabled: loading,\n                  className: \"tie-break-btn\",\n                  children: [game.is_tie_break ? \"🔗\" : \"🔓\", \" Tie-Break\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 309,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => removeGame(game.id),\n                  disabled: loading,\n                  className: \"remove-game-btn\",\n                  children: \"\\uD83D\\uDDD1\\uFE0F Eliminar\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 316,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 308,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 306,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"game-scores\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"score-input\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Pareja 1:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 328,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  min: \"0\",\n                  max: \"20\",\n                  value: ((_editingGames$game$id = editingGames[game.id]) === null || _editingGames$game$id === void 0 ? void 0 : _editingGames$game$id.pair1) !== undefined ? editingGames[game.id].pair1 : game.pair1_games,\n                  onChange: e => handleGameScoreChange(game.id, \"pair1\", parseInt(e.target.value) || 0),\n                  onBlur: () => handleGameScoreBlur(game.id),\n                  placeholder: \"0\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 329,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 327,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"score-input\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Pareja 2:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 351,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  min: \"0\",\n                  max: \"20\",\n                  value: ((_editingGames$game$id2 = editingGames[game.id]) === null || _editingGames$game$id2 === void 0 ? void 0 : _editingGames$game$id2.pair2) !== undefined ? editingGames[game.id].pair2 : game.pair2_games,\n                  onChange: e => handleGameScoreChange(game.id, \"pair2\", parseInt(e.target.value) || 0),\n                  onBlur: () => handleGameScoreBlur(game.id),\n                  placeholder: \"0\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 352,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 350,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 326,\n              columnNumber: 15\n            }, this), game.is_tie_break && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"tie-break-scores\",\n              children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                children: \"\\uD83D\\uDD17 Tie-Break\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 376,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"score-input\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Pareja 1:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 378,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  min: \"0\",\n                  max: \"20\",\n                  value: ((_editingTieBreaks$gam = editingTieBreaks[game.id]) === null || _editingTieBreaks$gam === void 0 ? void 0 : _editingTieBreaks$gam.pair1) !== undefined ? editingTieBreaks[game.id].pair1 : game.tie_break_pair1_points,\n                  onChange: e => handleTieBreakScoreChange(game.id, \"pair1\", parseInt(e.target.value) || 0),\n                  onBlur: () => handleTieBreakScoreBlur(game.id),\n                  placeholder: \"0\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 379,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 377,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"score-input\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Pareja 2:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 401,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  min: \"0\",\n                  max: \"20\",\n                  value: ((_editingTieBreaks$gam2 = editingTieBreaks[game.id]) === null || _editingTieBreaks$gam2 === void 0 ? void 0 : _editingTieBreaks$gam2.pair2) !== undefined ? editingTieBreaks[game.id].pair2 : game.tie_break_pair2_points,\n                  onChange: e => handleTieBreakScoreChange(game.id, \"pair2\", parseInt(e.target.value) || 0),\n                  onBlur: () => handleTieBreakScoreBlur(game.id),\n                  placeholder: \"0\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 402,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 400,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 375,\n              columnNumber: 17\n            }, this)]\n          }, game.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 13\n          }, this);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"score-corrector-actions\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: finishMatch,\n          disabled: loading || games.length === 0,\n          className: \"finish-match-btn\",\n          children: \"\\uD83C\\uDFC6 Finalizar Partido\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 429,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: \"cancel-btn\",\n          children: \"\\u274C Cancelar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 436,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 428,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 254,\n    columnNumber: 5\n  }, this);\n};\n_s(ScoreCorrector, \"qdkvkv6flmXqk55AMCIcCYrwPVU=\");\n_c = ScoreCorrector;\nexport default ScoreCorrector;\nvar _c;\n$RefreshReg$(_c, \"ScoreCorrector\");","map":{"version":3,"names":["React","useState","useEffect","createGame","getGames","updateGame","deleteGame","MatchResultCalculator","jsxDEV","_jsxDEV","ScoreCorrector","match","onClose","onUpdate","_s","games","setGames","loading","setLoading","error","setError","editingGames","setEditingGames","editingTieBreaks","setEditingTieBreaks","loadGames","id","gamesData","err","console","addGame","newGameNumber","length","newGame","log","updateGameScore","gameId","pair1Games","pair2Games","pair1_games","pair2_games","prevGames","map","g","updateTieBreakScore","pair1Points","pair2Points","tie_break_pair1_points","tie_break_pair2_points","removeGame","filter","toggleTieBreak","game","find","newIsTieBreak","is_tie_break","finishMatch","pairs","then","m","getPairs","tournament_id","result","updateMatchStatistics","updateMatch","winner_id","winnerId","is_finished","success","alert","message","handleGameScoreChange","pair","value","prev","handleGameScoreBlur","editingGame","pair1","pair2","newState","handleTieBreakScoreChange","handleTieBreakScoreBlur","editingTieBreak","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","court","round","disabled","_editingGames$game$id","_editingGames$game$id2","_editingTieBreaks$gam","_editingTieBreaks$gam2","game_number","type","min","max","undefined","onChange","e","parseInt","target","onBlur","placeholder","_c","$RefreshReg$"],"sources":["/Users/nedev/padel-tournament-app/src/components/ScoreCorrector.tsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Game, Match } from \"../lib/database\";\nimport { createGame, getGames, updateGame, deleteGame } from \"../lib/database\";\nimport { MatchResultCalculator } from \"./MatchResultCalculator\";\n\ninterface ScoreCorrectorProps {\n  match: Match;\n  onClose: () => void;\n  onUpdate: () => void;\n}\n\nconst ScoreCorrector: React.FC<ScoreCorrectorProps> = ({\n  match,\n  onClose,\n  onUpdate,\n}) => {\n  const [games, setGames] = useState<Game[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string>(\"\");\n  const [editingGames, setEditingGames] = useState<{\n    [key: string]: { pair1: number; pair2: number };\n  }>({});\n  const [editingTieBreaks, setEditingTieBreaks] = useState<{\n    [key: string]: { pair1: number; pair2: number };\n  }>({});\n\n  useEffect(() => {\n    loadGames();\n  }, [match.id]);\n\n  const loadGames = async () => {\n    try {\n      setLoading(true);\n      const gamesData = await getGames(match.id);\n      setGames(gamesData);\n    } catch (err) {\n      setError(\"Error al cargar los juegos\");\n      console.error(err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const addGame = async () => {\n    try {\n      setError(\"\");\n      setLoading(true);\n\n      const newGameNumber = games.length + 1;\n      const newGame = await createGame(match.id, newGameNumber);\n\n      setGames([...games, newGame]);\n      console.log(\"✅ Juego agregado:\", newGame);\n    } catch (err) {\n      setError(\"Error al agregar el juego\");\n      console.error(err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const updateGameScore = async (\n    gameId: string,\n    pair1Games: number,\n    pair2Games: number\n  ) => {\n    try {\n      setError(\"\");\n      await updateGame(gameId, {\n        pair1_games: pair1Games,\n        pair2_games: pair2Games,\n      });\n\n      setGames((prevGames) =>\n        prevGames.map((g) =>\n          g.id === gameId\n            ? { ...g, pair1_games: pair1Games, pair2_games: pair2Games }\n            : g\n        )\n      );\n    } catch (err) {\n      setError(\"Error al actualizar el marcador\");\n      console.error(err);\n    }\n  };\n\n  const updateTieBreakScore = async (\n    gameId: string,\n    pair1Points: number,\n    pair2Points: number\n  ) => {\n    try {\n      setError(\"\");\n      await updateGame(gameId, {\n        tie_break_pair1_points: pair1Points,\n        tie_break_pair2_points: pair2Points,\n      });\n\n      setGames((prevGames) =>\n        prevGames.map((g) =>\n          g.id === gameId\n            ? {\n                ...g,\n                tie_break_pair1_points: pair1Points,\n                tie_break_pair2_points: pair2Points,\n              }\n            : g\n        )\n      );\n    } catch (err) {\n      setError(\"Error al actualizar el tie break\");\n      console.error(err);\n    }\n  };\n\n  const removeGame = async (gameId: string) => {\n    try {\n      setError(\"\");\n      await deleteGame(gameId);\n      setGames(games.filter((g) => g.id !== gameId));\n    } catch (err) {\n      setError(\"Error al eliminar el juego\");\n      console.error(err);\n    }\n  };\n\n  const toggleTieBreak = async (gameId: string) => {\n    try {\n      setError(\"\");\n      const game = games.find((g) => g.id === gameId);\n      if (!game) return;\n\n      const newIsTieBreak = !game.is_tie_break;\n      await updateGame(gameId, { is_tie_break: newIsTieBreak });\n\n      setGames((prevGames) =>\n        prevGames.map((g) =>\n          g.id === gameId ? { ...g, is_tie_break: newIsTieBreak } : g\n        )\n      );\n    } catch (err) {\n      setError(\"Error al cambiar el tipo de juego\");\n      console.error(err);\n    }\n  };\n\n  const finishMatch = async () => {\n    try {\n      setError(\"\");\n      setLoading(true);\n\n      // Obtener las parejas del torneo\n      const pairs = await import(\"../lib/database\").then((m) =>\n        m.getPairs(match.tournament_id)\n      );\n\n      const result = await MatchResultCalculator.updateMatchStatistics(\n        match,\n        games,\n        pairs\n      );\n\n      // Importar updateMatch\n      const { updateMatch } = await import(\"../lib/database\");\n\n      // Actualizar el partido como finalizado\n      await updateMatch(match.id, {\n        winner_id: result.winnerId,\n        is_finished: true,\n      });\n\n      if (result.success) {\n        alert(result.message);\n        onUpdate();\n        onClose();\n      } else {\n        setError(result.message);\n      }\n    } catch (err) {\n      setError(\"Error al finalizar el partido\");\n      console.error(err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleGameScoreChange = (\n    gameId: string,\n    pair: \"pair1\" | \"pair2\",\n    value: number\n  ) => {\n    setEditingGames((prev) => ({\n      ...prev,\n      [gameId]: {\n        ...prev[gameId],\n        [pair]: value,\n      },\n    }));\n  };\n\n  const handleGameScoreBlur = async (gameId: string) => {\n    const editingGame = editingGames[gameId];\n    if (editingGame) {\n      await updateGameScore(gameId, editingGame.pair1, editingGame.pair2);\n      setEditingGames((prev) => {\n        const newState = { ...prev };\n        delete newState[gameId];\n        return newState;\n      });\n    }\n  };\n\n  const handleTieBreakScoreChange = (\n    gameId: string,\n    pair: \"pair1\" | \"pair2\",\n    value: number\n  ) => {\n    setEditingTieBreaks((prev) => ({\n      ...prev,\n      [gameId]: {\n        ...prev[gameId],\n        [pair]: value,\n      },\n    }));\n  };\n\n  const handleTieBreakScoreBlur = async (gameId: string) => {\n    const editingTieBreak = editingTieBreaks[gameId];\n    if (editingTieBreak) {\n      await updateTieBreakScore(\n        gameId,\n        editingTieBreak.pair1,\n        editingTieBreak.pair2\n      );\n      setEditingTieBreaks((prev) => {\n        const newState = { ...prev };\n        delete newState[gameId];\n        return newState;\n      });\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"score-corrector-overlay\">\n        <div className=\"score-corrector-modal\">\n          <div className=\"loading\">Cargando...</div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"score-corrector-overlay\">\n      <div className=\"score-corrector-modal\">\n        <div className=\"score-corrector-header\">\n          <h3>🎾 Editor de Marcador</h3>\n          <button onClick={onClose} className=\"close-btn\">\n            ✕\n          </button>\n        </div>\n\n        <div className=\"match-info\">\n          <h4>\n            Partido {match.court} - Ronda {match.round}\n          </h4>\n        </div>\n\n        <div className=\"rules-section\">\n          <h5>📋 Reglas del Juego:</h5>\n          <ul>\n            <li>\n              <strong>Juegos:</strong> La pareja que haga más puntos gana el\n              juego\n            </li>\n            <li>\n              <strong>Sets:</strong> La pareja que llegue a 6 puntos gana 1 set\n            </li>\n            <li>\n              <strong>Empates:</strong> Si ambas parejas tienen los mismos\n              puntos, es empate\n            </li>\n            <li>\n              <strong>Tie-Breaks:</strong> Se pueden activar para desempates\n              especiales\n            </li>\n          </ul>\n        </div>\n\n        {error && <div className=\"error-message\">{error}</div>}\n\n        <div className=\"games-section\">\n          <div className=\"games-header\">\n            <h5>🎾 Juegos</h5>\n            <button\n              onClick={addGame}\n              disabled={loading}\n              className=\"add-game-btn\"\n            >\n              ➕ Agregar Juego\n            </button>\n          </div>\n\n          {games.map((game) => (\n            <div key={game.id} className=\"game-card\">\n              <div className=\"game-header\">\n                <h6>Juego {game.game_number}</h6>\n                <div className=\"game-actions\">\n                  <button\n                    onClick={() => toggleTieBreak(game.id)}\n                    disabled={loading}\n                    className=\"tie-break-btn\"\n                  >\n                    {game.is_tie_break ? \"🔗\" : \"🔓\"} Tie-Break\n                  </button>\n                  <button\n                    onClick={() => removeGame(game.id)}\n                    disabled={loading}\n                    className=\"remove-game-btn\"\n                  >\n                    🗑️ Eliminar\n                  </button>\n                </div>\n              </div>\n\n              <div className=\"game-scores\">\n                <div className=\"score-input\">\n                  <label>Pareja 1:</label>\n                  <input\n                    type=\"number\"\n                    min=\"0\"\n                    max=\"20\"\n                    value={\n                      editingGames[game.id]?.pair1 !== undefined\n                        ? editingGames[game.id].pair1\n                        : game.pair1_games\n                    }\n                    onChange={(e) =>\n                      handleGameScoreChange(\n                        game.id,\n                        \"pair1\",\n                        parseInt(e.target.value) || 0\n                      )\n                    }\n                    onBlur={() => handleGameScoreBlur(game.id)}\n                    placeholder=\"0\"\n                  />\n                </div>\n\n                <div className=\"score-input\">\n                  <label>Pareja 2:</label>\n                  <input\n                    type=\"number\"\n                    min=\"0\"\n                    max=\"20\"\n                    value={\n                      editingGames[game.id]?.pair2 !== undefined\n                        ? editingGames[game.id].pair2\n                        : game.pair2_games\n                    }\n                    onChange={(e) =>\n                      handleGameScoreChange(\n                        game.id,\n                        \"pair2\",\n                        parseInt(e.target.value) || 0\n                      )\n                    }\n                    onBlur={() => handleGameScoreBlur(game.id)}\n                    placeholder=\"0\"\n                  />\n                </div>\n              </div>\n\n              {game.is_tie_break && (\n                <div className=\"tie-break-scores\">\n                  <h6>🔗 Tie-Break</h6>\n                  <div className=\"score-input\">\n                    <label>Pareja 1:</label>\n                    <input\n                      type=\"number\"\n                      min=\"0\"\n                      max=\"20\"\n                      value={\n                        editingTieBreaks[game.id]?.pair1 !== undefined\n                          ? editingTieBreaks[game.id].pair1\n                          : game.tie_break_pair1_points\n                      }\n                      onChange={(e) =>\n                        handleTieBreakScoreChange(\n                          game.id,\n                          \"pair1\",\n                          parseInt(e.target.value) || 0\n                        )\n                      }\n                      onBlur={() => handleTieBreakScoreBlur(game.id)}\n                      placeholder=\"0\"\n                    />\n                  </div>\n\n                  <div className=\"score-input\">\n                    <label>Pareja 2:</label>\n                    <input\n                      type=\"number\"\n                      min=\"0\"\n                      max=\"20\"\n                      value={\n                        editingTieBreaks[game.id]?.pair2 !== undefined\n                          ? editingTieBreaks[game.id].pair2\n                          : game.tie_break_pair2_points\n                      }\n                      onChange={(e) =>\n                        handleTieBreakScoreChange(\n                          game.id,\n                          \"pair2\",\n                          parseInt(e.target.value) || 0\n                        )\n                      }\n                      onBlur={() => handleTieBreakScoreBlur(game.id)}\n                      placeholder=\"0\"\n                    />\n                  </div>\n                </div>\n              )}\n            </div>\n          ))}\n        </div>\n\n        <div className=\"score-corrector-actions\">\n          <button\n            onClick={finishMatch}\n            disabled={loading || games.length === 0}\n            className=\"finish-match-btn\"\n          >\n            🏆 Finalizar Partido\n          </button>\n          <button onClick={onClose} className=\"cancel-btn\">\n            ❌ Cancelar\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ScoreCorrector;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}