{"ast":null,"code":"var _jsxFileName = \"/Users/nedev/padel-tournament-app/src/components/StandingsTable.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useMemo } from \"react\";\nimport { getPairs, getMatches } from \"../lib/database\";\nimport { SimpleMatchCalculator } from \"./SimpleMatchCalculator\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst StandingsTable = ({\n  tournamentId,\n  forceRefresh\n}) => {\n  _s();\n  const [pairs, setPairs] = useState([]);\n  const [matches, setMatches] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n\n  // Cargar datos cuando cambie el tournamentId o forceRefresh\n  useEffect(() => {\n    if (tournamentId) {\n      loadTournamentData();\n    }\n  }, [tournamentId, forceRefresh]);\n  const loadTournamentData = async () => {\n    try {\n      setLoading(true);\n      setError(\"\");\n      console.log(\"🔄 Cargando datos para tabla de clasificación...\");\n\n      // Cargar parejas y partidos en paralelo\n      const [pairsData, matchesData] = await Promise.all([getPairs(tournamentId), getMatches(tournamentId)]);\n      setPairs(pairsData);\n      setMatches(matchesData);\n      console.log(`✅ Datos cargados: ${pairsData.length} parejas, ${matchesData.length} partidos`);\n    } catch (error) {\n      console.error(\"❌ Error cargando datos:\", error);\n      setError(\"Error al cargar los datos del torneo\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Recalcular todas las estadísticas\n  const recalculateAllStatistics = async () => {\n    try {\n      console.log(\"🔄 Recalculando todas las estadísticas...\");\n      setLoading(true);\n      setError(\"\");\n\n      // Usar la nueva función de recálculo completo\n      const result = await SimpleMatchCalculator.recalculateAllStatistics(tournamentId);\n      if (result.success) {\n        console.log(\"✅ Estadísticas recalculadas exitosamente\");\n        // Recargar datos después del recálculo\n        await loadTournamentData();\n      } else {\n        console.error(\"❌ Error en recálculo:\", result.message);\n        setError(result.message);\n      }\n    } catch (error) {\n      console.error(\"❌ Error recalculando estadísticas:\", error);\n      setError(\"Error al recalcular estadísticas\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Ordenar parejas usando SETS GANADOS como criterio principal\n  const sortedPairs = useMemo(() => {\n    return [...pairs].sort((a, b) => {\n      // Criterio 1: Sets ganados (descendente) - CRITERIO PRINCIPAL\n      if (b.sets_won !== a.sets_won) {\n        return b.sets_won - a.sets_won;\n      }\n      // Criterio 2: Puntos totales (descendente)\n      if (b.points !== a.points) {\n        return b.points - a.points;\n      }\n      // Criterio 3: Menos partidos jugados (mejor eficiencia)\n      return a.matches_played - b.matches_played;\n    });\n  }, [pairs]);\n\n  // Detectar empates en partidos\n  const detectTies = () => {\n    const ties = [];\n    matches.forEach(match => {\n      if (match.is_finished && !match.winner_id) {\n        var _match$pair, _match$pair$player, _match$pair2, _match$pair2$player, _match$pair3, _match$pair3$player, _match$pair4, _match$pair4$player;\n        ties.push({\n          matchId: match.id,\n          pair1: `${(_match$pair = match.pair1) === null || _match$pair === void 0 ? void 0 : (_match$pair$player = _match$pair.player1) === null || _match$pair$player === void 0 ? void 0 : _match$pair$player.name} y ${(_match$pair2 = match.pair1) === null || _match$pair2 === void 0 ? void 0 : (_match$pair2$player = _match$pair2.player2) === null || _match$pair2$player === void 0 ? void 0 : _match$pair2$player.name}`,\n          pair2: `${(_match$pair3 = match.pair2) === null || _match$pair3 === void 0 ? void 0 : (_match$pair3$player = _match$pair3.player1) === null || _match$pair3$player === void 0 ? void 0 : _match$pair3$player.name} y ${(_match$pair4 = match.pair2) === null || _match$pair4 === void 0 ? void 0 : (_match$pair4$player = _match$pair4.player2) === null || _match$pair4$player === void 0 ? void 0 : _match$pair4$player.name}`\n        });\n      }\n    });\n    return ties;\n  };\n  const ties = detectTies();\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"standings\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"\\uD83D\\uDCCA Clasificaci\\xF3n\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading\",\n        children: \"\\u23F3 Cargando clasificaci\\xF3n...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 7\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"standings\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"\\uD83D\\uDCCA Clasificaci\\xF3n\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"standings\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"standings-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"\\uD83D\\uDCCA Clasificaci\\xF3n\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: recalculateAllStatistics,\n        className: \"recalculate-stats-btn\",\n        disabled: loading,\n        children: \"\\uD83D\\uDD04 Recalcular Estad\\xEDsticas\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 7\n    }, this), ties.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ties-notice\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"\\uD83E\\uDD1D Partidos con Empate\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: ties.map(tie => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [tie.pair1, \" vs \", tie.pair2, \" - Empate\"]\n        }, tie.matchId, true, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"table-container\",\n      children: /*#__PURE__*/_jsxDEV(\"table\", {\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Pos\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Pareja\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Sets\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Partidos\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 216,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Puntos\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 217,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: sortedPairs.map((pair, index) => {\n            var _pair$player, _pair$player2;\n            return /*#__PURE__*/_jsxDEV(\"tr\", {\n              className: `position-${index + 1}`,\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"position\",\n                children: [index + 1, index === 0 && \"🥇\", index === 1 && \"🥈\", index === 2 && \"🥉\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 223,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"pair-name\",\n                children: [(_pair$player = pair.player1) === null || _pair$player === void 0 ? void 0 : _pair$player.name, \" y \", (_pair$player2 = pair.player2) === null || _pair$player2 === void 0 ? void 0 : _pair$player2.name]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 229,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"points\",\n                children: pair.sets_won\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 232,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"points\",\n                children: pair.matches_played\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 233,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"points\",\n                children: pair.points\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 234,\n                columnNumber: 17\n              }, this)]\n            }, pair.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 15\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 7\n    }, this), sortedPairs.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"no-pairs\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\uD83D\\uDCDD No hay parejas registradas en este torneo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 184,\n    columnNumber: 5\n  }, this);\n};\n_s(StandingsTable, \"lW5GExqdwZiUV0GRf+JaLzvrCIA=\");\n_c = StandingsTable;\nexport default StandingsTable;\nvar _c;\n$RefreshReg$(_c, \"StandingsTable\");","map":{"version":3,"names":["React","useState","useEffect","useMemo","getPairs","getMatches","SimpleMatchCalculator","jsxDEV","_jsxDEV","StandingsTable","tournamentId","forceRefresh","_s","pairs","setPairs","matches","setMatches","loading","setLoading","error","setError","loadTournamentData","console","log","pairsData","matchesData","Promise","all","length","recalculateAllStatistics","result","success","message","sortedPairs","sort","a","b","sets_won","points","matches_played","detectTies","ties","forEach","match","is_finished","winner_id","_match$pair","_match$pair$player","_match$pair2","_match$pair2$player","_match$pair3","_match$pair3$player","_match$pair4","_match$pair4$player","push","matchId","id","pair1","player1","name","player2","pair2","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","disabled","map","tie","pair","index","_pair$player","_pair$player2","_c","$RefreshReg$"],"sources":["/Users/nedev/padel-tournament-app/src/components/StandingsTable.tsx"],"sourcesContent":["import React, { useState, useEffect, useMemo } from \"react\";\nimport { getPairs, getMatches, getGames, Pair } from \"../lib/database\";\nimport { SimpleMatchCalculator } from \"./SimpleMatchCalculator\";\n\ninterface PairWithPlayers {\n  id: string;\n  tournament_id: string;\n  player1_id: string;\n  player2_id: string;\n  sets_won: number;\n  games_won: number;\n  points: number;\n  matches_played: number;\n  created_at: string;\n  updated_at: string;\n  player1?: {\n    id: string;\n    name: string;\n  };\n  player2?: {\n    id: string;\n    name: string;\n  };\n}\n\ninterface Match {\n  id: string;\n  tournament_id: string;\n  pair1_id: string;\n  pair2_id: string;\n  court: number;\n  round: number;\n  winner_id?: string;\n  is_finished: boolean;\n  created_at: string;\n  updated_at: string;\n  pair1?: Pair;\n  pair2?: Pair;\n}\n\ninterface Game {\n  id: string;\n  match_id: string;\n  game_number: number;\n  pair1_games: number;\n  pair2_games: number;\n  is_tie_break: boolean;\n  tie_break_pair1_points?: number;\n  tie_break_pair2_points?: number;\n  created_at: string;\n  updated_at: string;\n}\n\ninterface StandingsTableProps {\n  tournamentId: string;\n  forceRefresh: number;\n}\n\nconst StandingsTable: React.FC<StandingsTableProps> = ({\n  tournamentId,\n  forceRefresh,\n}) => {\n  const [pairs, setPairs] = useState<PairWithPlayers[]>([]);\n  const [matches, setMatches] = useState<Match[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n\n  // Cargar datos cuando cambie el tournamentId o forceRefresh\n  useEffect(() => {\n    if (tournamentId) {\n      loadTournamentData();\n    }\n  }, [tournamentId, forceRefresh]);\n\n  const loadTournamentData = async () => {\n    try {\n      setLoading(true);\n      setError(\"\");\n\n      console.log(\"🔄 Cargando datos para tabla de clasificación...\");\n\n      // Cargar parejas y partidos en paralelo\n      const [pairsData, matchesData] = await Promise.all([\n        getPairs(tournamentId),\n        getMatches(tournamentId),\n      ]);\n\n      setPairs(pairsData);\n      setMatches(matchesData);\n\n      console.log(\n        `✅ Datos cargados: ${pairsData.length} parejas, ${matchesData.length} partidos`\n      );\n    } catch (error) {\n      console.error(\"❌ Error cargando datos:\", error);\n      setError(\"Error al cargar los datos del torneo\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Recalcular todas las estadísticas\n  const recalculateAllStatistics = async () => {\n    try {\n      console.log(\"🔄 Recalculando todas las estadísticas...\");\n      setLoading(true);\n      setError(\"\");\n\n      // Usar la nueva función de recálculo completo\n      const result = await SimpleMatchCalculator.recalculateAllStatistics(\n        tournamentId\n      );\n\n      if (result.success) {\n        console.log(\"✅ Estadísticas recalculadas exitosamente\");\n        // Recargar datos después del recálculo\n        await loadTournamentData();\n      } else {\n        console.error(\"❌ Error en recálculo:\", result.message);\n        setError(result.message);\n      }\n    } catch (error) {\n      console.error(\"❌ Error recalculando estadísticas:\", error);\n      setError(\"Error al recalcular estadísticas\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Ordenar parejas usando SETS GANADOS como criterio principal\n  const sortedPairs = useMemo(() => {\n    return [...pairs].sort((a, b) => {\n      // Criterio 1: Sets ganados (descendente) - CRITERIO PRINCIPAL\n      if (b.sets_won !== a.sets_won) {\n        return b.sets_won - a.sets_won;\n      }\n      // Criterio 2: Puntos totales (descendente)\n      if (b.points !== a.points) {\n        return b.points - a.points;\n      }\n      // Criterio 3: Menos partidos jugados (mejor eficiencia)\n      return a.matches_played - b.matches_played;\n    });\n  }, [pairs]);\n\n  // Detectar empates en partidos\n  const detectTies = () => {\n    const ties: { matchId: string; pair1: string; pair2: string }[] = [];\n\n    matches.forEach((match) => {\n      if (match.is_finished && !match.winner_id) {\n        ties.push({\n          matchId: match.id,\n          pair1: `${match.pair1?.player1?.name} y ${match.pair1?.player2?.name}`,\n          pair2: `${match.pair2?.player1?.name} y ${match.pair2?.player2?.name}`,\n        });\n      }\n    });\n\n    return ties;\n  };\n\n  const ties = detectTies();\n\n  if (loading) {\n    return (\n      <div className=\"standings\">\n        <h3>📊 Clasificación</h3>\n        <div className=\"loading\">⏳ Cargando clasificación...</div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"standings\">\n        <h3>📊 Clasificación</h3>\n        <div className=\"error\">{error}</div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"standings\">\n      <div className=\"standings-header\">\n        <h3>📊 Clasificación</h3>\n        <button\n          onClick={recalculateAllStatistics}\n          className=\"recalculate-stats-btn\"\n          disabled={loading}\n        >\n          🔄 Recalcular Estadísticas\n        </button>\n      </div>\n\n      {ties.length > 0 && (\n        <div className=\"ties-notice\">\n          <h4>🤝 Partidos con Empate</h4>\n          <ul>\n            {ties.map((tie) => (\n              <li key={tie.matchId}>\n                {tie.pair1} vs {tie.pair2} - Empate\n              </li>\n            ))}\n          </ul>\n        </div>\n      )}\n\n      <div className=\"table-container\">\n        <table>\n          <thead>\n            <tr>\n              <th>Pos</th>\n              <th>Pareja</th>\n              <th>Sets</th>\n              <th>Partidos</th>\n              <th>Puntos</th>\n            </tr>\n          </thead>\n          <tbody>\n            {sortedPairs.map((pair, index) => (\n              <tr key={pair.id} className={`position-${index + 1}`}>\n                <td className=\"position\">\n                  {index + 1}\n                  {index === 0 && \"🥇\"}\n                  {index === 1 && \"🥈\"}\n                  {index === 2 && \"🥉\"}\n                </td>\n                <td className=\"pair-name\">\n                  {pair.player1?.name} y {pair.player2?.name}\n                </td>\n                <td className=\"points\">{pair.sets_won}</td>\n                <td className=\"points\">{pair.matches_played}</td>\n                <td className=\"points\">{pair.points}</td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n\n      {sortedPairs.length === 0 && (\n        <div className=\"no-pairs\">\n          <p>📝 No hay parejas registradas en este torneo</p>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default StandingsTable;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}